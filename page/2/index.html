<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head>
    <meta charset="utf-8">
<title>ahljljj</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css">




<meta name="description" content="">





    <meta property="og:type" content="website">
<meta property="og:title" content="ahljljj">
<meta property="og:url" content="http://ahljljj.github.io/page/2/index.html">
<meta property="og:site_name" content="ahljljj">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="ahljljj">
<meta name="twitter:card" content="summary">





<link rel="icon" href="/favicon.png">


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/css/justifiedGallery.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">


<link rel="stylesheet" href="/css/style.css">


<script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script>


    
    
    
    
    
    
    
    
    
    

    


<meta name="generator" content="Hexo 4.2.0"></head>
<body>
    
<nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/">
                
                <img src="/images/logo.png" alt="" height="28">
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item "
               href="/archives">Archives</a>
            
            <a class="navbar-item "
               href="/categories/">Categories</a>
            
            <a class="navbar-item "
               href="/tags/">Tags</a>
            
            <a class="navbar-item "
               href="/about">About</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            <a class="navbar-item search" title="搜索" href="javascript:;">
                <i class="fas fa-search"></i>
            </a>
            
            
            
            <a class="navbar-item" title="GitHub" href="https://github.com/ahljljj" target="_blank" rel="noopener">
                
                <i class="fab fa-github"></i>
                
            </a>
               
            
        </div>
    </div>
</nav>

    <section class="section">
    <div class="container">
    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2018/08/15/2018-08-16-SELF-JOIN/" itemprop="url">SELF JOIN</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2018-08-16T00:00:00.000Z" itemprop="datePublished">8月 15 2018</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/SQL/">SQL</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            5 分钟 读完 (约 797 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h2 id="Edinburgh-Buses"><a href="#Edinburgh-Buses" class="headerlink" title="Edinburgh Buses"></a>Edinburgh Buses</h2><h3 id="https-sqlzoo-net-wiki-Self-join"><a href="#https-sqlzoo-net-wiki-Self-join" class="headerlink" title="https://sqlzoo.net/wiki/Self_join"></a><a href="https://sqlzoo.net/wiki/Self_join" target="_blank" rel="noopener">https://sqlzoo.net/wiki/Self_join</a></h3><p>This database consists of two tables: stops and routes</p>
<h2 id="stops"><a href="#stops" class="headerlink" title="stops"></a>stops</h2><p>This is a list of areas served by buses. The detail does not really include each actual bus stop - just areas within Edinburgh and whole towns near Edinburgh.</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>INTEGER</td>
<td>Arbitrary value</td>
</tr>
<tr>
<td>name</td>
<td>CHAR(30)</td>
<td>The name of an area served by at least one bus</td>
</tr>
</tbody></table>
<h2 id="route"><a href="#route" class="headerlink" title="route"></a>route</h2><p>A route is the path through town taken by a bus.</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Notes</th>
</tr>
</thead>
<tbody><tr>
<td>num</td>
<td>CHAR(5)</td>
<td>The number of the bus - as it appears on the front of the vehicle. Oddly these numbers often include letters</td>
</tr>
<tr>
<td>company</td>
<td>CHAR(3)</td>
<td>Several bus companies operate in Edinburgh. The main one is Lothian Region Transport - LRT</td>
</tr>
<tr>
<td>pos</td>
<td>INTEGER</td>
<td>This indicates the order of the stop within the route. Some routes may revisit a stop. Most buses go in both directions.</td>
</tr>
<tr>
<td>stop</td>
<td>INTEGER</td>
<td>This references the stops table</td>
</tr>
</tbody></table>
<p>As different companies use numbers arbitrarily the num and the company are both required to identify a route.</p>
<p>1). How many <strong>stops</strong> are in the database. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">select</span> <span class="hljs-keyword">count</span>(<span class="hljs-keyword">id</span>) <span class="hljs-keyword">from</span> stops</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>2). Find the <strong>id</strong> value for the stop &#x2018;Craiglockhart&#x2019; /TOO EASY</p>
<p>3). Give the <strong>id</strong> and the <strong>name</strong> for the <strong>stops</strong> on the &#x2018;4&#x2019; &#x2018;LRT&#x2019; service. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">select</span> <span class="hljs-keyword">id</span>, <span class="hljs-keyword">name</span> <span class="hljs-keyword">from</span> stops</span><br><span class="line"><span class="hljs-keyword">join</span> route <span class="hljs-keyword">on</span> <span class="hljs-keyword">id</span>=<span class="hljs-keyword">stop</span></span><br><span class="line"><span class="hljs-keyword">where</span> <span class="hljs-keyword">num</span>=<span class="hljs-number">4</span> <span class="hljs-keyword">and</span> company=<span class="hljs-string">&apos;LRT&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>4). The query shown gives the number of routes that visit either London Road (149) or  Craiglockhart (53). Run the query and notice the two services that link these <strong>stops</strong> have a count of 2. Add a HAVING clause to restrict the output to these two routes. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> company, <span class="hljs-keyword">num</span>, <span class="hljs-keyword">COUNT</span>(*)</span><br><span class="line"><span class="hljs-keyword">FROM</span> route <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">stop</span>=<span class="hljs-number">149</span> <span class="hljs-keyword">OR</span> <span class="hljs-keyword">stop</span>=<span class="hljs-number">53</span></span><br><span class="line"><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> company, <span class="hljs-keyword">num</span></span><br><span class="line"><span class="hljs-keyword">having</span> <span class="hljs-keyword">count</span>(*)=<span class="hljs-number">2</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>5). Execute the self join shown and observe that b.stop gives all the places you can get to from Craiglockhart, without changing routes. Change the query so that it shows the services from Craiglockhart to London Road. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> a.company, a.num, a.stop, b.stop</span><br><span class="line"><span class="hljs-keyword">FROM</span> route a <span class="hljs-keyword">JOIN</span> route b <span class="hljs-keyword">ON</span></span><br><span class="line">  (a.company=b.company <span class="hljs-keyword">AND</span> a.num=b.num)</span><br><span class="line"><span class="hljs-keyword">join</span> stops stopa <span class="hljs-keyword">on</span> stopa.id=a.stop</span><br><span class="line"><span class="hljs-keyword">join</span> stops stopb <span class="hljs-keyword">on</span> stopb.id=b.stop</span><br><span class="line"><span class="hljs-keyword">where</span> stopa.name=<span class="hljs-string">&apos;Craiglockhart&apos;</span> <span class="hljs-keyword">and</span> stopb.name=<span class="hljs-string">&apos;London Road&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>6). The query shown is similar to the previous one, however by joining two copies of the <strong>stops</strong> table we can refer to <strong>stops</strong> by <strong>name</strong> rather than by number. Change the query so that the services between &#x2018;Craiglockhart&#x2019; and &#x2018;London Road&#x2019; are shown. If you are tired of these places try &#x2018;Fairmilehead&#x2019; against &#x2018;Tollcross&#x2019; </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> a.company, a.num, stopa.name, stopb.name</span><br><span class="line"><span class="hljs-keyword">FROM</span> route a <span class="hljs-keyword">JOIN</span> route b <span class="hljs-keyword">ON</span></span><br><span class="line">  (a.company=b.company <span class="hljs-keyword">AND</span> a.num=b.num)</span><br><span class="line">  <span class="hljs-keyword">JOIN</span> stops stopa <span class="hljs-keyword">ON</span> (a.stop=stopa.id)</span><br><span class="line">  <span class="hljs-keyword">JOIN</span> stops stopb <span class="hljs-keyword">ON</span> (b.stop=stopb.id)</span><br><span class="line"><span class="hljs-keyword">WHERE</span> stopa.name=<span class="hljs-string">&apos;Craiglockhart&apos;</span> <span class="hljs-keyword">and</span> stopb.name=<span class="hljs-string">&apos;London Road&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>7). Give a list of all the services which connect stops 115 and 137 (&#x2018;Haymarket&#x2019; and &#x2018;Leith&#x2019;) </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">select</span> <span class="hljs-keyword">distinct</span> a. company,a. <span class="hljs-keyword">num</span> <span class="hljs-keyword">from</span> route a, route b</span><br><span class="line"><span class="hljs-keyword">where</span> a.company=b.company <span class="hljs-keyword">and</span> a.num=b.num <span class="hljs-keyword">and</span> a.stop=<span class="hljs-number">115</span> <span class="hljs-keyword">and</span> b.stop=<span class="hljs-number">137</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>8). Give a list of the services which connect the <strong>stops</strong> &#x2018;Craiglockhart&#x2019; and &#x2018;Tollcross&#x2019; </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">select</span> a.company, a.num <span class="hljs-keyword">from</span> route a, route b</span><br><span class="line"><span class="hljs-keyword">where</span> a.company=b.company <span class="hljs-keyword">and</span> a.num=b.num <span class="hljs-keyword">and</span> a.stop =</span><br><span class="line">(<span class="hljs-keyword">select</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">from</span> stops <span class="hljs-keyword">where</span> <span class="hljs-keyword">name</span>= <span class="hljs-string">&apos;Craiglockhart&apos;</span> ) <span class="hljs-keyword">and</span> b.stop=</span><br><span class="line">(<span class="hljs-keyword">select</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">from</span> stops <span class="hljs-keyword">where</span> <span class="hljs-keyword">name</span>=  <span class="hljs-string">&apos;Tollcross&apos;</span> )</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>9). Give a distinct list of the <strong>stops</strong> which may be reached from &#x2018;Craiglockhart&#x2019; by taking one bus, including &#x2018;Craiglockhart&#x2019; itself, offered by the LRT company. Include the company and bus no. of the relevant services. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">select</span> <span class="hljs-keyword">name</span>, a.company, a.num <span class="hljs-keyword">from</span> route a, route b</span><br><span class="line"><span class="hljs-keyword">join</span> stops <span class="hljs-keyword">on</span> <span class="hljs-keyword">stop</span>=<span class="hljs-keyword">id</span></span><br><span class="line"><span class="hljs-keyword">where</span> a.company = <span class="hljs-string">&apos;LRT&apos;</span> <span class="hljs-keyword">and</span> b.company = <span class="hljs-string">&apos;LRT&apos;</span> <span class="hljs-keyword">and</span> a.num=b.num <span class="hljs-keyword">and</span> a.stop=</span><br><span class="line">(<span class="hljs-keyword">select</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">from</span> stops <span class="hljs-keyword">where</span> <span class="hljs-keyword">name</span>= <span class="hljs-string">&apos;Craiglockhart&apos;</span> )</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>10). Find the routes involving two buses that can go from Craiglockhart to Sighthill. Show the bus no. and company for the first bus, the name of the stop for the transfer, and the bus no. and company for the second bus.</p>
<p><em>Hint:</em> Self-join twice to find buses that visit Craiglockhart and Sighthill, then join those on matching stops.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">select</span> <span class="hljs-keyword">distinct</span> c.num, c.company, c.name, d.num, d.company <span class="hljs-keyword">from</span></span><br><span class="line">(<span class="hljs-keyword">select</span> <span class="hljs-keyword">name</span>, a.company, a.num <span class="hljs-keyword">from</span> route a, route b</span><br><span class="line"><span class="hljs-keyword">join</span> stops <span class="hljs-keyword">on</span> <span class="hljs-keyword">stop</span>=<span class="hljs-keyword">id</span></span><br><span class="line"><span class="hljs-keyword">where</span> a.company = b.company <span class="hljs-keyword">and</span> a.num=b.num <span class="hljs-keyword">and</span> a.stop=</span><br><span class="line">(<span class="hljs-keyword">select</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">from</span> stops <span class="hljs-keyword">where</span> <span class="hljs-keyword">name</span>= <span class="hljs-string">&apos;Craiglockhart&apos;</span>) ) c</span><br><span class="line"><span class="hljs-keyword">join</span> (<span class="hljs-keyword">select</span> <span class="hljs-keyword">name</span>, a.company, a.num <span class="hljs-keyword">from</span> route a, route b</span><br><span class="line"><span class="hljs-keyword">join</span> stops <span class="hljs-keyword">on</span> <span class="hljs-keyword">stop</span>=<span class="hljs-keyword">id</span></span><br><span class="line"><span class="hljs-keyword">where</span> a.company = b.company <span class="hljs-keyword">and</span> a.num=b.num <span class="hljs-keyword">and</span> a.stop=</span><br><span class="line">(<span class="hljs-keyword">select</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">from</span> stops <span class="hljs-keyword">where</span> <span class="hljs-keyword">name</span>= <span class="hljs-string">&apos;Sighthill&apos;</span>) ) d <span class="hljs-keyword">on</span></span><br><span class="line">c.name=d.name</span><br></pre></td></tr></tbody></table></figure><p></p>
</body></html>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2018/08/15/2018-08-16-SELECT-names/" itemprop="url">SELECT names</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2018-08-16T00:00:00.000Z" itemprop="datePublished">8月 15 2018</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/SQL/">SQL</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            4 分钟 读完 (约 647 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h2 id="SELECT-names"><a href="#SELECT-names" class="headerlink" title="SELECT names"></a>SELECT names</h2><h3 id="https-sqlzoo-net-wiki-SELECT-names"><a href="#https-sqlzoo-net-wiki-SELECT-names" class="headerlink" title="https://sqlzoo.net/wiki/SELECT_names"></a><a href="https://sqlzoo.net/wiki/SELECT_names" target="_blank" rel="noopener">https://sqlzoo.net/wiki/SELECT_names</a></h3><h3 id="Pattern-Matching-Strings"><a href="#Pattern-Matching-Strings" class="headerlink" title="Pattern Matching Strings"></a>Pattern Matching Strings</h3><p>This tutorial uses the <strong>LIKE</strong> operator to check names. We will be using the SELECT command on the table <strong>world</strong>:</p>
<table>
<thead>
<tr>
<th>name</th>
<th>continent</th>
</tr>
</thead>
<tbody><tr>
<td>Afghanistan</td>
<td>Asia</td>
</tr>
<tr>
<td>Albania</td>
<td>Europe</td>
</tr>
<tr>
<td>Algeria</td>
<td>Africa</td>
</tr>
<tr>
<td>Andorra</td>
<td>Europe</td>
</tr>
<tr>
<td>Angola</td>
<td>Africa</td>
</tr>
<tr>
<td>&#x2026;.</td>
<td></td>
</tr>
</tbody></table>
<p>1). You can use <code>WHERE name LIKE &apos;B%&apos;</code> to find the countries that start with &#x201C;B&#x201D;.</p>
<ul>
<li>The % is a <em>wild-card</em> it can match any characters</li>
</ul>
<p>Find the country that start with Y</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">FROM</span> world</span><br><span class="line">  <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;Y%&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>2). Find the countries that end with <strong>y</strong> </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">FROM</span> world</span><br><span class="line">  <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;%y&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>3). Luxembourg has an <strong>x</strong> - so does one other country. List them both. Find the countries that contain the letter <strong>x</strong></p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">FROM</span> world</span><br><span class="line">  <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;%x%&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>4). Iceland, Switzerland end with <strong>land</strong> - but are there others? Find the countries that end with <strong>land</strong></p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">FROM</span> world</span><br><span class="line">  <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;%land&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>5). Columbia starts with a <strong>C</strong> and ends with <strong>ia</strong> - there are two more like this. Find the countries that start with <strong>C</strong> and end with <strong>ia</strong></p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">FROM</span> world</span><br><span class="line">  <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;C%ia&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>6). Greece has a double <strong>e</strong> - who has a double <strong>o</strong>? Find the country that has <strong>oo</strong> in the name</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">FROM</span> world</span><br><span class="line">  <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;%oo%&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>7). Bahamas has three <strong>a</strong> - who else? Find the countries that have three or more <strong>a</strong> in the name</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">FROM</span> world</span><br><span class="line">  <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;%a%a%a%&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>8). India and Angola have an <strong>n</strong> as the second character. You can use the underscore as a single character wildcard. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">FROM</span> world</span><br><span class="line"> <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;_n%&apos;</span></span><br><span class="line"><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-keyword">name</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>Find the countries that have &#x201C;t&#x201D; as the second character. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">FROM</span> world</span><br><span class="line"> <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;_t%&apos;</span></span><br><span class="line"><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-keyword">name</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>9). Les<strong>o</strong>th<strong>o</strong> and M<strong>o</strong>ld<strong>o</strong>va both have two o characters separated by two other characters. Find the countries that have two &#x201C;o&#x201D; characters separated by two others.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">FROM</span> world</span><br><span class="line"> <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;%o__o%&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>10). Cuba and Togo have four characters names. Find the countries that have exactly four characters.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">FROM</span> world</span><br><span class="line"> <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;____&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<h3 id="Harder-Questions"><a href="#Harder-Questions" class="headerlink" title="Harder Questions"></a>Harder Questions</h3><p>Well done for getting this far.</p>
<p>The next questions are optional and only for students who are finding the basic questions too easy.</p>
<p>11). The capital of <strong>Luxembourg</strong> is <strong>Luxembourg</strong>. Show all the countries where the capital is the same as the name of the country. Find the country where the name is the capital city.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span></span><br><span class="line">  <span class="hljs-keyword">FROM</span> world</span><br><span class="line"> <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> = capital</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>12). The capital of <strong>Mexico</strong> is <strong>Mexico City</strong>. Show all the countries where the capital has the country together with the word &#x201C;City&#x201D;. Find the country where the capital is the country plus &#x201C;City&#x201D;.</p>
<p><em>The concat functio</em>n</p>
<p>The function concat is short for concatenate - you can use it to combine two or more strings.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span></span><br><span class="line">  <span class="hljs-keyword">FROM</span> world</span><br><span class="line"> <span class="hljs-keyword">WHERE</span> capital=<span class="hljs-keyword">concat</span>(<span class="hljs-keyword">name</span>,<span class="hljs-string">&apos; City&apos;</span>)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>13). Find the capital and the name where the capital includes the name of the country. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">select</span> capital, <span class="hljs-keyword">name</span> <span class="hljs-keyword">from</span> world</span><br><span class="line"><span class="hljs-keyword">where</span> capital <span class="hljs-keyword">like</span> <span class="hljs-keyword">concat</span>(<span class="hljs-string">&apos;%&apos;</span>,<span class="hljs-keyword">name</span>,<span class="hljs-string">&apos;%&apos;</span>)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>14). Find the capital and the name where the capital is an extension of name of the country. You <em>should</em> include <strong>Mexico City</strong> as it is longer than <strong>Mexico</strong>. You <em>should not</em> include <strong>Luxembourg</strong> as the capital is the same as the country.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">select</span> capital, <span class="hljs-keyword">name</span> <span class="hljs-keyword">from</span> world</span><br><span class="line"><span class="hljs-keyword">where</span> capital <span class="hljs-keyword">like</span> <span class="hljs-keyword">concat</span>(<span class="hljs-keyword">name</span>,<span class="hljs-string">&apos;_%&apos;</span>)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>15). For <strong>Monaco-Ville</strong> the name is <strong>Monaco</strong> and the extension is <strong>-Ville</strong>. Show the name and the extension where the capital is an extension of name of the country. You can use the SQL function <strong>REPLACE</strong>.</p>
<p><em>REPLACE(f, s1, s2) returns the string f with all occurances of s1 replaced with s2.</em></p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">REPLACE</span>(<span class="hljs-string">&apos;vessel&apos;</span>,<span class="hljs-string">&apos;e&apos;</span>,<span class="hljs-string">&apos;a&apos;</span>) -&gt; <span class="hljs-string">&apos;vassal&apos;</span></span><br></pre></td></tr></tbody></table></figure><br><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">select</span> <span class="hljs-keyword">name</span>, <span class="hljs-keyword">replace</span>(capital, <span class="hljs-keyword">name</span> ,<span class="hljs-string">&apos;&apos;</span>) <span class="hljs-keyword">as</span> ext <span class="hljs-keyword">from</span> world</span><br><span class="line"><span class="hljs-keyword">where</span> capital <span class="hljs-keyword">like</span> <span class="hljs-keyword">concat</span>(<span class="hljs-keyword">name</span>,<span class="hljs-string">&apos;_%&apos;</span>)</span><br></pre></td></tr></tbody></table></figure><p></p>
</body></html>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2018/05/18/2018-05-19-Monotonicity-of-K-means/" itemprop="url">Monotonicity of K-means</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2018-05-19T00:00:00.000Z" itemprop="datePublished">5月 18 2018</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/Algorithm/">Algorithm</a><span>></span><a class="article-category-link" href="/categories/Algorithm/Math/">Math</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            3 分钟 读完 (约 397 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>Given a set $S={x_1,\cdots,x_n}$ ,  we aim to (1)  partition the $n$ observations into $k(k\leq n)$ subsets $\{s_1,\cdots,s_k\}$, (2) minimize within-cluster sum of squares. Formally, the objective is to find:<br>$$<br>\begin{equation}\label{eqn:obj}\underset{s}{\text{argmin}}  \sum_{i=1}^k\sum_{x\in s_i} ||x-c_i||^2\end{equation}<br>$$<br>where $c_i$ is the mean (center of mass) of points in the subset $s_i$.  Now in order to achieve this goal, the K-means algorithm reads as follows, first, we randomly pick $k$ points $\{c_1,\cdots,c_k\}$ which are called centroids and label those points in $S$ that closer to $c_i$ than any other centroids by $c_i$.  Mathematically, we just performed a Voronoi partition on $S$  for the lattice $\{c_1,\cdots,c_k\}$. Next, we want to keep doing this Voronoi partition by updating our lattice so that \ref{eqn:obj} is monotonously decreasing. There are two steps here:</p>
<ul>
<li><p>Update the centroid $c_i$ of each cluster by its center of mass, i.e.,<br>$$<br>\begin{equation}\label{eqn: centroid}c_i=\frac{1}{|s_i|}\sum_{x\in s_i} x;\end{equation}<br>$$</p>
</li>
<li><p>Update the cluster labels by doing Voronoi partition on the new centroids set $\{c_i,\cdots,c_k \}$.</p>
</li>
</ul>
<h2 id="Monotonicity"><a href="#Monotonicity" class="headerlink" title="Monotonicity"></a>Monotonicity</h2><p>The monotonicity of K-means algorithm essentially follows from the basic fact that any function attains the extreme points at the points where its derivative is vanishing. In fact, we consider the following energy:<br>$$<br>\begin{equation}\label{eqn:energy}f(c_1,\cdots,c_k)=\sum_{i=1}^k\sum_{x\in s_i} ||x-c_i||^2.\end{equation}<br>$$<br>The gradient of $f$ with respect to $c_i$ is<br>$$<br>\begin{equation}\label{eqn:grad}\frac{\partial f}{\partial c_i}=-2\sum_{x\in s_i}(x-c_i),\quad i=1,\cdots k.\end{equation}<br>$$<br>By pushing (\ref{eqn:grad}) $=0$ , it&#x2019;s clear that<br>$$<br>c_i=\frac{1}{|s_i|}\sum_{x\in s_i} x,<br>$$<br>which is exactly the centroid we chose in the above updating step. This also implies that K-means is actually a gradient descent algorithm. Unlike the gradient descent we have seen in many other context, here, we have a closed and simple form for the gradient. So we don&#x2019;t have to implement the algorithm to obtain the gradient but simply use this elegant math formulation (\ref{eqn: centroid}).</p>
</body></html>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2018/05/15/2018-05-16-Stochastic-gradient-decent-and-gradient-decent/" itemprop="url">Stochastic gradient decent and gradient decent</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2018-05-16T00:00:00.000Z" itemprop="datePublished">5月 15 2018</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/Algorithm/">Algorithm</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            5 分钟 读完 (约 743 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h5 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h5><p>This analysis explores the relation between the gradient decent and stochastic gradient decent. Starting from the basic gradient decent method, we shall see that SGD actually decrease this energy on &#x201C;average&#x201D;.</p>
<h5 id="Gradient-decent-a-math-approach"><a href="#Gradient-decent-a-math-approach" class="headerlink" title="Gradient decent: a math approach"></a>Gradient decent: a math approach</h5><p>Let&#x2019;s introduce the convex function first.</p>
<ul>
<li>A function $f:\mathbb{R}^n\rightarrow\mathbb{R}$ is convex if and only if for all $x,y$ $\in \mathbb{R}^n$ and $\lambda\in (0,1)$, we have<br>$$<br>f(\lambda x+(1-\lambda)y)\leq \lambda f(x)+(1-\lambda)f(y).<br>$$</li>
</ul>
<p>A more mathematical definition is</p>
<ul>
<li>A function is said to be convex if and only if it&#x2019;s second derivative is always non-negative.</li>
</ul>
<p>A simple example is the parabola equation $x^2$, and as you could see from the graph, this function has a unique minimum. The reason that we restricted our attention on the convex function is because its minimum could be easily calculated. In theory, to get the minimum/maximum of a function, we could simply set the derivative of it to zero and solve the equation(s).  However, there are two potential issues here.</p>
<ul>
<li>There may be no closed form for the solutions especially when we have a complicated model.</li>
<li>Even there is a explicit formula for the extreme points, the time complexity is $O(n^3)$ , which is another thing we need worry about if we have a super big data set.</li>
</ul>
<p>The gradient decent in machine learning is to find the minimum/maximum of a convex function without calculating the inverse matrix of the derivative. There are many discussions about this context online, here I just take a few lines to talk about the basic idea from the point view of mathematics.</p>
<p>Given a convex function ^[The solution may not be converge to the global minimum without convexity.]  $f:\mathbb{R}^n\rightarrow\mathbb{R}$, we consider the following ordinary differential equation:<br>$$<br>\begin{equation}\label{eqn:grad}\frac{dx}{dt}=-\nabla f,\quad x\in \mathbb{R}^n\end{equation}.<br>$$<br>We then look at the change of $f$ along the solution to  (\ref{eqn:grad}), and it turn out that $f$ is monotonicity decreasing along the solution, in fact,  the chain rule implies<br>$$<br>\begin{equation}\label{eqn:mono}\frac{df}{dt}=\frac{df}{dx}\cdot \frac{dx}{dt}=-||\nabla f||^2.\end{equation}<br>$$</p>
<p>Therefore, ideally, $f$ should decreases and decreases until it attains a constant. Then the right hand side of (\ref{eqn:mono}) implies that this constant must be the global minimum. (\ref{eqn:mono}) also implies that $f$ decreases fastest if we move $x$ in the direction of its negative gradient. The word &#x201C;fastest&#x201D; here could be interpreted as &#x201C;most efficient&#x201D; somehow, and it basically comes from the fact that the product of two vectors $a,b$ maximize/minimize if and only if  $a,b$ are parallel to each other. Another thing should be note here is that <strong>there are many other directions that make</strong> $f$ <strong>decreases, they are just not as efficient as</strong> $\nabla f$ <strong>does</strong>. This is the foundation of  SGD!</p>
<h5 id="Gradient-descent-in-regression"><a href="#Gradient-descent-in-regression" class="headerlink" title="Gradient descent in regression"></a>Gradient descent in regression</h5><p>Regression is not as mysterious as its name suggest.  Mathematically, it&#x2019;s just an algorithm to solve an optimization problem. Let&#x2019;s consider the simple case: linear regression. The <em>cost/loss</em> function is defined to be sum square error:<br>$$<br>\begin{equation}\label{eqn:linear}f(w)=||x\cdot w-y||^2\end{equation}<br>$$<br>where $x\in M^{N\times n}$ is the feature matrix, $w\in M^{n\times 1}$ is the weight vector, and $y\in M^{N\times 1}$ is the true value. We want to find a best $w$ that minimize $f$ based on the known observations $(x,y)$. In other words, we just need find the minimum of $f$ . To do this, we  simply discretize (\ref{eqn:mono}) as follows:</p>
<p>$$<br>\frac{f_{n+1}-f_n}{h}=-||\nabla f||_n^2,<br>$$<br>the above expression can be rewritten as a standard iteration form:</p>
<p>$$<br>\begin{equation}\label{alg:linear}f_{n+1}=f_n-h\cdot||\nabla f||_n^2,\end{equation}<br>$$<br>where $h$ is the time step, and $\nabla f$ can be easily obtained in most regression models, for instance, </p>
<p>$$<br>\nabla f=-2x^T\cdot(x\cdot w-y)<br>$$<br> where $T$ is representing the transpose. Now if we ignore the numerical instabilities (usually caused by a big step-size $h$),  (\ref{eqn:mono}) implies that $f$ would monotonicity decreasing under (\ref{alg:linear})! </p>
<h4 id="Stochastic-descent-gradient-SGD"><a href="#Stochastic-descent-gradient-SGD" class="headerlink" title="Stochastic descent gradient (SGD)"></a>Stochastic descent gradient (SGD)</h4><p>Like gradient descent, SGD is another numerical algorithm to find the minimum/maximum.</p>
<p>TBD.</p>
</body></html>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2018/05/14/2018-05-15-Adaboost-decision-tree-algorithms/" itemprop="url">Adaboost decision tree algorithms</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2018-05-15T00:00:00.000Z" itemprop="datePublished">5月 14 2018</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/Algorithm/">Algorithm</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            1 分钟 读完 (约 192 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><p><em>This is brief introduction of Adaboosting algorithms after I finished the machine learning course in coursera.</em></p>
<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>A foundation question in machine learning is: <strong>can a set of weak classifiers be combined to create a strong classifier?</strong> The answer is yes. Adaboost was the first really successful boosting algorithm developed for binary classification.  More importantly, it is so mathematically beautiful and easy to implement that it would definitely be the starting point to learn boosting.  In this document,  we investigate this algorithm by boosting a set of decision tree algorithms. </p>
<h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><p>Let&#x2019;s consider the implementation of Adaboosting ensemble on decision tree model. Given a set of classifiers $${f_1,f_2,\cdot, f_k}$$,  where $f_i=\pm 1$ for $i=1,\cdots, k$ we want to find an appropriate linear combination of these classifiers  </p>
<p>$$F_k=\text{sign}\sum_{i=1}^kw_i f_i$$ </p>
<p>such that $F_T$ is better that any $f_t$ . <em>How to find these weights</em>: $w_1,\cdots,w_k$ ? Or even more basically, how to choose these classifiers ${f_1,f_2,\cdot, f_k}$?  </p>
<h5 id="Step-1"><a href="#Step-1" class="headerlink" title="Step 1."></a>Step 1.</h5><p>To begin with, we choose the first classifier $f_1$ to be the usual decision tree model.</p>
</body></html>
    
    </div>
    
    
</article>




    
    
        
<nav class="pagination is-centered is-rounded" role="navigation" aria-label="pagination">
    <div class="pagination-previous">
        <a href="/">上一页</a>
    </div>
    <div class="pagination-next is-invisible is-hidden-mobile">
        <a href="/page/3/">下一页</a>
    </div>
    <ul class="pagination-list is-hidden-mobile">
        
        <li><a class="pagination-link" href="/">1</a></li>
        
        <li><a class="pagination-link is-current" href="/page/2/">2</a></li>
        
    </ul>
</nav>
    
    </div>
</section>
    <footer class="footer">
    <div class="container">
        <div class="columns content">
            <div class="column is-narrow has-text-centered">
                &copy; 2020 ahljljj&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a
                        href="http://github.com/ppoffice/hexo-theme-minos">Minos</a>
            </div>
            <div class="column is-hidden-mobile"></div>

            
            <div class="column is-narrow">
                <div class="columns is-mobile is-multiline is-centered">
                
                    
                <a class="column is-narrow has-text-black" title="GitHub" href="https://github.com/ahljljj" target="_blank" rel="noopener">
                    
                    GitHub
                    
                </a>
                
                </div>
            </div>
            
            
        </div>
    </div>
</footer>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/" target="_blank" rel="noopener">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        // plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
    moment.locale("zh-CN");
</script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script>
    MathJax.Hub.Config({
        "HTML-CSS": {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
</script>

    
    
    
    
<script src="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/js/lightgallery-all.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/js/jquery.justifiedGallery.min.js"></script>
<script>
    (function ($) {
        $(document).ready(function () {
            if (typeof($.fn.lightGallery) === 'function') {
                $('.article.gallery').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof($.fn.justifiedGallery) === 'function') {
                $('.justified-gallery').justifiedGallery();
            }
        });
    })(jQuery);
</script>

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <style>
        .hljs {
            position: relative;
        }

        .hljs .clipboard-btn {
            float: right;
            color: #9a9a9a;
            background: none;
            border: none;
            cursor: pointer;
        }

        .hljs .clipboard-btn:hover {
          color: #8a8a8a;
        }

        .hljs > .clipboard-btn {
            display: none;
            position: absolute;
            right: 4px;
            top: 4px;
        }

        .hljs:hover > .clipboard-btn {
            display: inline;
        }

        .hljs > figcaption > .clipboard-btn {
            margin-right: 4px;
        }
    </style>
    <script>
      $(document).ready(function () {
        $('figure.hljs').each(function(i, figure) {
          var codeId = 'code-' + i;
          var code = figure.querySelector('.code');
          var copyButton = $('<button>Copy <i class="far fa-clipboard"></i></button>');
          code.id = codeId;
          copyButton.addClass('clipboard-btn');
          copyButton.attr('data-clipboard-target-id', codeId);

          var figcaption = figure.querySelector('figcaption');

          if (figcaption) {
            figcaption.append(copyButton[0]);
          } else {
            figure.prepend(copyButton[0]);
          }
        })

        var clipboard = new ClipboardJS('.clipboard-btn', {
          target: function(trigger) {
            return document.getElementById(trigger.getAttribute('data-clipboard-target-id'));
          }
        });
        clipboard.on('success', function(e) {
          e.clearSelection();
        })
      })
    </script>

    
    

    



<script src="/js/script.js"></script>


    
    <div class="searchbox ins-search">
    <div class="searchbox-mask"></div>
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="站内搜索" />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                CATEGORIES: '分类',
                TAGS: '标签',
                UNTITLED: '(无标题)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>

<script src="/js/insight.js"></script>

    
</body>
</html>