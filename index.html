<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head>
    <meta charset="utf-8">
<title>ahljljj</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css">




<meta name="description" content="">





    <meta property="og:type" content="website">
<meta property="og:title" content="ahljljj">
<meta property="og:url" content="http://ahljljj.github.io/index.html">
<meta property="og:site_name" content="ahljljj">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="ahljljj">
<meta name="twitter:card" content="summary">





<link rel="icon" href="/favicon.png">


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/css/justifiedGallery.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">


<link rel="stylesheet" href="/css/style.css">


<script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script>


    
    
    
    
    
    
    
    
    
    

    


<meta name="generator" content="Hexo 4.2.0"></head>
<body>
    
<nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/">
                
                <img src="/images/logo.png" alt="" height="28">
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item "
               href="/archives">Archives</a>
            
            <a class="navbar-item "
               href="/categories/">Categories</a>
            
            <a class="navbar-item "
               href="/tags/">Tags</a>
            
            <a class="navbar-item "
               href="/about">About</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            <a class="navbar-item search" title="搜索" href="javascript:;">
                <i class="fas fa-search"></i>
            </a>
            
            
            
            <a class="navbar-item" title="GitHub" href="https://github.com/ahljljj" target="_blank" rel="noopener">
                
                <i class="fab fa-github"></i>
                
            </a>
               
            
        </div>
    </div>
</nav>

    <section class="section">
    <div class="container">
    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2020/03/20/hello-world/" itemprop="url">Hello World</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2020-03-20T23:09:56.338Z" itemprop="datePublished">3月 20 2020</time>
        </span>
        
        
        <span class="column is-narrow">
            
            
            1 分钟 读完 (约 123 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<!-- hexo-inject:begin --><!-- hexo-inject:end --><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><p></p><figure class="highlight bash hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><p></p><figure class="highlight bash hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><p></p><figure class="highlight bash hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><p></p><figure class="highlight bash hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>
</body></html>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2018/08/22/2018-08-23-Using-Null/" itemprop="url">Using Null</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2018-08-23T00:00:00.000Z" itemprop="datePublished">8月 22 2018</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/SQL/">SQL</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            3 分钟 读完 (约 376 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head><!-- hexo-inject:begin --><!-- hexo-inject:end --></head><body><h2 id="Using-Null"><a href="#Using-Null" class="headerlink" title="Using Null"></a>Using Null</h2><h3 id="https-sqlzoo-net-wiki-Using-Null"><a href="#https-sqlzoo-net-wiki-Using-Null" class="headerlink" title="https://sqlzoo.net/wiki/Using_Null"></a><a href="https://sqlzoo.net/wiki/Using_Null" target="_blank" rel="noopener">https://sqlzoo.net/wiki/Using_Null</a></h3><h3 id="Teachers-and-Departments"><a href="#Teachers-and-Departments" class="headerlink" title="Teachers and Departments"></a>Teachers and Departments</h3><p>The school includes many departments. Most teachers work exclusively for a single department. Some teachers have no department.</p>
<!-- hexo-inject:begin --><!-- hexo-inject:end --><table>
<thead>
<tr>
<th>id</th>
<th>dept</th>
<th>name</th>
<th>phone</th>
<th>mobile</th>
</tr>
</thead>
<tbody><tr>
<td>101</td>
<td>1</td>
<td>Shrivell</td>
<td>2753</td>
<td>07986 555 1234</td>
</tr>
<tr>
<td>102</td>
<td>1</td>
<td>Throd</td>
<td>2754</td>
<td>07122 555 1920</td>
</tr>
<tr>
<td>103</td>
<td>1</td>
<td>Splint</td>
<td>2293</td>
<td></td>
</tr>
<tr>
<td>104</td>
<td></td>
<td>Spiregrain</td>
<td>3287</td>
<td></td>
</tr>
<tr>
<td>105</td>
<td>2</td>
<td>Cutflower</td>
<td>3212</td>
<td>07996 555 6574</td>
</tr>
<tr>
<td>106</td>
<td></td>
<td>Deadyawn</td>
<td>3345</td>
<td></td>
</tr>
<tr>
<td>&#x2026;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>id</th>
<th>name</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>Computing</td>
</tr>
<tr>
<td>2</td>
<td>Design</td>
</tr>
<tr>
<td>3</td>
<td>Engineering</td>
</tr>
<tr>
<td>&#x2026;</td>
<td></td>
</tr>
</tbody></table>
<p>1). List the teachers who have NULL for their department.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> teacher.name <span class="hljs-keyword">FROM</span> teacher</span><br><span class="line"><span class="hljs-keyword">WHERE</span> dept <span class="hljs-keyword">IS</span> <span class="hljs-literal">NULL</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>2). Note the INNER JOIN misses the teachers with no department and the departments with no teacher.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> teacher.name, dept.name</span><br><span class="line"> <span class="hljs-keyword">FROM</span> teacher <span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> dept</span><br><span class="line">           <span class="hljs-keyword">ON</span> (teacher.dept=dept.id)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>3). Use a different JOIN so that all teachers are listed.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> teacher.name, dept.name <span class="hljs-keyword">FROM</span> teacher</span><br><span class="line"><span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> dept <span class="hljs-keyword">ON</span></span><br><span class="line">teacher.dept=dept.id</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>4). Use a different JOIN so that all departments are listed.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> teacher.name, dept.name <span class="hljs-keyword">FROM</span> teacher</span><br><span class="line"><span class="hljs-keyword">RIGHT</span> <span class="hljs-keyword">JOIN</span> dept <span class="hljs-keyword">ON</span></span><br><span class="line">teacher.dept=dept.id</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>5). Use COALESCE to print the mobile number. Use the number &#x2018;07986 444 2266&#x2019; if there is no number given.<strong>Show teacher name and mobile number or &#x2018;07986 444 2266&#x2019;</strong></p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span>, <span class="hljs-keyword">COALESCE</span>(mobile, <span class="hljs-string">&apos;07986 444 2266&apos;</span>) <span class="hljs-keyword">FROM</span> teacher</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>6). Use the COALESCE function and a LEFT JOIN to print the teacher <strong>name</strong> and department name. Use the string &#x2018;None&#x2019; where there is no department.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> teacher.name, <span class="hljs-keyword">COALESCE</span>(dept.name,<span class="hljs-string">&apos;None&apos;</span>) <span class="hljs-keyword">FROM</span> teacher</span><br><span class="line"><span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> dept <span class="hljs-keyword">ON</span></span><br><span class="line">teacher.dept=dept.id</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>7). Use COUNT to show the number of teachers and the number of mobile phones.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">name</span>), <span class="hljs-keyword">COUNT</span>(mobile) <span class="hljs-keyword">FROM</span> teacher</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>8). Use COUNT and GROUP BY <strong>dept.name</strong> to show each department and the number of staff. Use a RIGHT JOIN to ensure that the Engineering department is listed.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> dept.name, <span class="hljs-keyword">COUNT</span>(teacher.name) <span class="hljs-keyword">FROM</span> teacher</span><br><span class="line"><span class="hljs-keyword">RIGHT</span> <span class="hljs-keyword">JOIN</span> dept <span class="hljs-keyword">ON</span> teacher.dept = dept.id</span><br><span class="line"><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> dept.name</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>9). Use CASE to show the <strong>name</strong> of each teacher followed by &#x2018;Sci&#x2019; if the teacher is in <strong>dept</strong> 1 or 2 and &#x2018;Art&#x2019; otherwise.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span>, </span><br><span class="line"><span class="hljs-keyword">CASE</span> <span class="hljs-keyword">WHEN</span> dept <span class="hljs-keyword">in</span> (<span class="hljs-number">1</span>,<span class="hljs-number">2</span>) <span class="hljs-keyword">THEN</span> <span class="hljs-string">&apos;Sci&apos;</span></span><br><span class="line">     <span class="hljs-keyword">ELSE</span> <span class="hljs-string">&apos;Art&apos;</span></span><br><span class="line"><span class="hljs-keyword">END</span></span><br><span class="line"><span class="hljs-keyword">FROM</span> teacher</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>10). Use CASE to show the name of each teacher followed by &#x2018;Sci&#x2019; if the teacher is in dept 1 or 2, show &#x2018;Art&#x2019; if the teacher&#x2019;s dept is 3 and &#x2018;None&#x2019; otherwise.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span>, </span><br><span class="line"><span class="hljs-keyword">CASE</span> <span class="hljs-keyword">WHEN</span> dept <span class="hljs-keyword">in</span> (<span class="hljs-number">1</span>,<span class="hljs-number">2</span>) <span class="hljs-keyword">THEN</span> <span class="hljs-string">&apos;Sci&apos;</span></span><br><span class="line">     <span class="hljs-keyword">WHEN</span> dept=<span class="hljs-number">3</span> <span class="hljs-keyword">THEN</span> <span class="hljs-string">&apos;Art&apos;</span></span><br><span class="line">     <span class="hljs-keyword">ELSE</span> <span class="hljs-string">&apos;None&apos;</span></span><br><span class="line"><span class="hljs-keyword">END</span></span><br><span class="line"><span class="hljs-keyword">FROM</span> teacher</span><br></pre></td></tr></tbody></table></figure><p></p><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body></html>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2018/08/22/2018-08-23-More-JOIN-operations/" itemprop="url">More JOIN operations</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2018-08-23T00:00:00.000Z" itemprop="datePublished">8月 22 2018</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/SQL/">SQL</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            4 分钟 读完 (约 646 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h2 id="More-JOIN-operations"><a href="#More-JOIN-operations" class="headerlink" title="More JOIN operations"></a>More JOIN operations</h2><p>This tutorial introduces the notion of a join. The database consists of three tables <code>movie</code> , <code>actor</code> and <code>casting</code> .</p>
<p><img src="https://sqlzoo.net/w/images/1/10/Movie-er.png" alt="Movie-er.png"></p>
<p>1). List the films where the <strong>yr</strong> is 1962 [Show <strong>id</strong>, <strong>title</strong>]</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">id</span>, title</span><br><span class="line"> <span class="hljs-keyword">FROM</span> movie</span><br><span class="line"> <span class="hljs-keyword">WHERE</span> yr=<span class="hljs-number">1962</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>2). Give year of &#x2018;Citizen Kane&#x2019;.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> yr <span class="hljs-keyword">FROM</span> movie </span><br><span class="line"><span class="hljs-keyword">WHERE</span> title=<span class="hljs-string">&apos;Citizen Kane&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>3). List all of the Star Trek movies, include the <strong>id</strong>, <strong>title</strong> and <strong>yr</strong> (all of these movies include the words Star Trek in the title). Order results by year.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">id</span>, title, yr <span class="hljs-keyword">FROM</span> movie</span><br><span class="line"><span class="hljs-keyword">WHERE</span> title <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;%Star Trek%&apos;</span></span><br><span class="line"><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> yr</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>4). What <strong>id</strong> number does the actor &#x2018;Glenn Close&#x2019; have?</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">FROM</span> actor</span><br><span class="line"><span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span>=<span class="hljs-string">&apos;Glenn Close&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>5). What is the <strong>id</strong> of the film &#x2018;Casablanca&#x2019;</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">FROM</span> movie</span><br><span class="line"><span class="hljs-keyword">WHERE</span> title=<span class="hljs-string">&apos;Casablanca&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>6). Obtain the cast list for &#x2018;Casablanca&#x2019;.</p>
<p><em>what is a cast list?</em></p>
<p>The cast list is the names of the actors who were in the movie.</p>
<p>Use <strong>movieid=11768</strong>, (or whatever value you got from the previous question)</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">FROM</span> actor </span><br><span class="line"><span class="hljs-keyword">JOIN</span> casting <span class="hljs-keyword">ON</span> actor.id= actorid</span><br><span class="line"><span class="hljs-keyword">JOIN</span> movie <span class="hljs-keyword">ON</span> movieid=movie.id</span><br><span class="line"><span class="hljs-keyword">WHERE</span> title=<span class="hljs-string">&apos;Casablanca&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>7). Obtain the cast list for the film &#x2018;Alien&#x2019;</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">FROM</span> actor </span><br><span class="line"><span class="hljs-keyword">JOIN</span> casting <span class="hljs-keyword">ON</span> actor.id= actorid</span><br><span class="line"><span class="hljs-keyword">JOIN</span> movie <span class="hljs-keyword">ON</span> movieid=movie.id</span><br><span class="line"><span class="hljs-keyword">WHERE</span> title= <span class="hljs-string">&apos;Alien&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>8). List the films in which &#x2018;Harrison Ford&#x2019; has appeared</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> title <span class="hljs-keyword">FROM</span> movie</span><br><span class="line"><span class="hljs-keyword">JOIN</span> casting <span class="hljs-keyword">ON</span> movie.id= movieid</span><br><span class="line"><span class="hljs-keyword">JOIN</span> actor <span class="hljs-keyword">ON</span> actorid=actor.id</span><br><span class="line"><span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span>=<span class="hljs-string">&apos;Harrison Ford&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>9). List the films where &#x2018;Harrison Ford&#x2019; has appeared - but not in the starring role. [Note: the <strong>ord</strong> field of casting gives the position of the actor. If ord=1 then this actor is in the starring role]</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> title <span class="hljs-keyword">FROM</span> movie</span><br><span class="line"><span class="hljs-keyword">JOIN</span> casting <span class="hljs-keyword">ON</span> movie.id= movieid</span><br><span class="line"><span class="hljs-keyword">JOIN</span> actor <span class="hljs-keyword">ON</span> actorid=actor.id</span><br><span class="line"><span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span>=<span class="hljs-string">&apos;Harrison Ford&apos;</span> <span class="hljs-keyword">AND</span> <span class="hljs-keyword">ord</span>!=<span class="hljs-number">1</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>10). List the films together with the leading star for all 1962 films.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> title, <span class="hljs-keyword">name</span> <span class="hljs-keyword">FROM</span> movie</span><br><span class="line"><span class="hljs-keyword">JOIN</span> casting <span class="hljs-keyword">ON</span> movie.id= movieid</span><br><span class="line"><span class="hljs-keyword">JOIN</span> actor <span class="hljs-keyword">ON</span> actorid=actor.id</span><br><span class="line"><span class="hljs-keyword">WHERE</span> yr=<span class="hljs-number">1962</span> <span class="hljs-keyword">AND</span> <span class="hljs-keyword">ord</span>=<span class="hljs-number">1</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>11). Which were the busiest years for &#x2018;John Travolta&#x2019;, show the year and the number of movies he made each year for any year in which he made more than 2 movies.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> yr,<span class="hljs-keyword">COUNT</span>(title) <span class="hljs-keyword">FROM</span></span><br><span class="line">  movie <span class="hljs-keyword">JOIN</span> casting <span class="hljs-keyword">ON</span> movie.id=movieid</span><br><span class="line">         <span class="hljs-keyword">JOIN</span> actor   <span class="hljs-keyword">ON</span> actorid=actor.id</span><br><span class="line"><span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span>=<span class="hljs-string">&apos;John Travolta&apos;</span></span><br><span class="line"><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> yr</span><br><span class="line"><span class="hljs-keyword">HAVING</span> <span class="hljs-keyword">COUNT</span>(title)&gt;<span class="hljs-number">2</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>12). List the film title and the leading actor for all of the films &#x2018;Julie Andrews&#x2019; played in.</p>
<p><em>Did you get &#x201C;Little Miss Marker twice&#x201D;?</em></p>
<p>Julie Andrews starred in the 1980 remake of Little Miss Marker and not the original(1934).</p>
<p>Title is not a unique field, create a table of IDs in your subquery</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> title, <span class="hljs-keyword">name</span> <span class="hljs-keyword">FROM</span> movie</span><br><span class="line"><span class="hljs-keyword">JOIN</span> casting <span class="hljs-keyword">ON</span> movieid=movie.id</span><br><span class="line"><span class="hljs-keyword">JOIN</span> actor <span class="hljs-keyword">ON</span> actor.id=actorid</span><br><span class="line"><span class="hljs-keyword">WHERE</span> movieid <span class="hljs-keyword">IN</span> (</span><br><span class="line"><span class="hljs-keyword">SELECT</span> movieid <span class="hljs-keyword">FROM</span> movie</span><br><span class="line"><span class="hljs-keyword">JOIN</span> casting <span class="hljs-keyword">ON</span> movieid=movie.id</span><br><span class="line"><span class="hljs-keyword">JOIN</span> actor <span class="hljs-keyword">ON</span> actor.id=actorid</span><br><span class="line"><span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span>= <span class="hljs-string">&apos;Julie Andrews&apos;</span>) <span class="hljs-keyword">AND</span> <span class="hljs-keyword">ord</span>=<span class="hljs-number">1</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>13). Obtain a list, in alphabetical order, of actors who&#x2019;ve had at least 30 starring roles.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">FROM</span> actor</span><br><span class="line"><span class="hljs-keyword">JOIN</span> casting <span class="hljs-keyword">ON</span> actorid=actor.id</span><br><span class="line"><span class="hljs-keyword">JOIN</span> movie <span class="hljs-keyword">ON</span> movie.id=movieid</span><br><span class="line"><span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">ord</span>=<span class="hljs-number">1</span></span><br><span class="line"><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> <span class="hljs-keyword">name</span></span><br><span class="line"><span class="hljs-keyword">HAVING</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">ord</span>)&gt;=<span class="hljs-number">30</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>14). List the films released in the year 1978 ordered by the number of actors in the cast, then by title.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> title, <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">name</span>) <span class="hljs-keyword">FROM</span> actor</span><br><span class="line"><span class="hljs-keyword">JOIN</span> casting <span class="hljs-keyword">ON</span> actorid=actor.id</span><br><span class="line"><span class="hljs-keyword">JOIN</span> movie <span class="hljs-keyword">ON</span> movie.id=movieid</span><br><span class="line"><span class="hljs-keyword">WHERE</span> yr = <span class="hljs-number">1978</span></span><br><span class="line"><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> title</span><br><span class="line"><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">name</span>) <span class="hljs-keyword">DESC</span>, title</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>15). List all the people who have worked with &#x2018;Art Garfunkel&#x2019;.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">FROM</span> actor</span><br><span class="line"><span class="hljs-keyword">JOIN</span> casting <span class="hljs-keyword">ON</span> actorid=actor.id</span><br><span class="line"><span class="hljs-keyword">JOIN</span> movie <span class="hljs-keyword">ON</span> movieid=movie.id</span><br><span class="line"><span class="hljs-keyword">WHERE</span> movieid <span class="hljs-keyword">IN</span></span><br><span class="line">(<span class="hljs-keyword">SELECT</span> movie.id <span class="hljs-keyword">FROM</span> movie</span><br><span class="line"><span class="hljs-keyword">JOIN</span> casting <span class="hljs-keyword">ON</span> movieid=movie.id</span><br><span class="line"><span class="hljs-keyword">JOIN</span> actor <span class="hljs-keyword">ON</span> actor.id=actorid</span><br><span class="line"><span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span>=<span class="hljs-string">&apos;Art Garfunkel&apos;</span>) <span class="hljs-keyword">AND</span> <span class="hljs-keyword">name</span>!=<span class="hljs-string">&apos;Art Garfunkel&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
</body></html>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2018/08/22/2018-08-23-NSS-Tutorial/" itemprop="url">NSS Tutorial</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2018-08-23T00:00:00.000Z" itemprop="datePublished">8月 22 2018</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/SQL/">SQL</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            4 分钟 读完 (约 554 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h2 id="NSS-Tutorial"><a href="#NSS-Tutorial" class="headerlink" title="NSS Tutorial"></a>NSS Tutorial</h2><h3 id="https-sqlzoo-net-wiki-NSS-Tutorial"><a href="#https-sqlzoo-net-wiki-NSS-Tutorial" class="headerlink" title="https://sqlzoo.net/wiki/NSS_Tutorial"></a><a href="https://sqlzoo.net/wiki/NSS_Tutorial" target="_blank" rel="noopener">https://sqlzoo.net/wiki/NSS_Tutorial</a></h3><table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
</tr>
</thead>
<tbody><tr>
<td>ukprn</td>
<td>varchar(8)</td>
</tr>
<tr>
<td>institution</td>
<td>varchar(100)</td>
</tr>
<tr>
<td>subject</td>
<td>varchar(60)</td>
</tr>
<tr>
<td>level</td>
<td>varchar(50)</td>
</tr>
<tr>
<td>question</td>
<td>varchar(10)</td>
</tr>
<tr>
<td>A_STRONGLY_DISAGREE</td>
<td>int(11)</td>
</tr>
<tr>
<td>A_DISAGREE</td>
<td>int(11)</td>
</tr>
<tr>
<td>A_NEUTRAL</td>
<td>int(11)</td>
</tr>
<tr>
<td>A_AGREE</td>
<td>int(11)</td>
</tr>
<tr>
<td>A_STRONGLY_AGREE</td>
<td>int(11)</td>
</tr>
<tr>
<td>A_NA</td>
<td>int(11)</td>
</tr>
<tr>
<td>CI_MIN</td>
<td>int(11)</td>
</tr>
<tr>
<td>score</td>
<td>int(11)</td>
</tr>
<tr>
<td>CI_MAX</td>
<td>int(11)</td>
</tr>
<tr>
<td>response</td>
<td>int(11)</td>
</tr>
<tr>
<td>sample</td>
<td>int(11)</td>
</tr>
<tr>
<td>aggregate</td>
<td>char(1)</td>
</tr>
</tbody></table>
<p>National Student Survey 2012</p>
<p>The National Student Survey <a href="http://www.thestudentsurvey.com/" target="_blank" rel="noopener">http://www.thestudentsurvey.com/</a> is presented to thousands of graduating students in UK Higher Education. The survey asks 22 questions, students can respond with STRONGLY DISAGREE, DISAGREE, NEUTRAL, AGREE or STRONGLY AGREE. The values in these columns represent PERCENTAGES of the total students who responded with that answer.</p>
<p>The table <code>nss</code> has one row per institution, subject and question.</p>
<p>1). The example shows the number who responded for:</p>
<ul>
<li>question 1</li>
<li>at &#x2018;Edinburgh Napier University&#x2019;</li>
<li>studying &#x2018;(8) Computer Science&#x2019;</li>
</ul>
<p>Show the the percentage who STRONGLY AGREE</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> A_STRONGLY_AGREE</span><br><span class="line">  <span class="hljs-keyword">FROM</span> nss</span><br><span class="line"> <span class="hljs-keyword">WHERE</span> question=<span class="hljs-string">&apos;Q01&apos;</span></span><br><span class="line">   <span class="hljs-keyword">AND</span> institution=<span class="hljs-string">&apos;Edinburgh Napier University&apos;</span></span><br><span class="line">   <span class="hljs-keyword">AND</span> subject=<span class="hljs-string">&apos;(8) Computer Science&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>2). Show the institution and subject where the <strong>score</strong> is at least 100 for question 15.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> institution, subject</span><br><span class="line">  <span class="hljs-keyword">FROM</span> nss</span><br><span class="line"> <span class="hljs-keyword">WHERE</span> question=<span class="hljs-string">&apos;Q15&apos;</span></span><br><span class="line">   <span class="hljs-keyword">AND</span> score&gt;=<span class="hljs-number">100</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>3). Show the institution and score where the score for &#x2018;(8) Computer Science&#x2019; is less than 50 for question &#x2018;Q15&#x2019;</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> institution,score</span><br><span class="line">  <span class="hljs-keyword">FROM</span> nss</span><br><span class="line"> <span class="hljs-keyword">WHERE</span>  question=<span class="hljs-string">&apos;Q15&apos;</span><span class="hljs-keyword">and</span> subject=<span class="hljs-string">&apos;(8) Computer Science&apos;</span></span><br><span class="line"><span class="hljs-keyword">and</span> score&lt;<span class="hljs-number">50</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>4). Show the subject and total number of students who responded to question 22 for each of the subjects &#x2018;(8) Computer Science&#x2019; and &#x2018;(H) Creative Arts and Design&#x2019;.</p>
<p><em>HINT</em></p>
<p>You will need to use SUM over the <strong>response</strong> column and GROUP BY <strong>subject</strong></p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> subject, <span class="hljs-keyword">sum</span>(response)</span><br><span class="line">  <span class="hljs-keyword">FROM</span> nss</span><br><span class="line"> <span class="hljs-keyword">WHERE</span> question=<span class="hljs-string">&apos;Q22&apos;</span></span><br><span class="line">   <span class="hljs-keyword">AND</span> subject <span class="hljs-keyword">in</span> (<span class="hljs-string">&apos;(8) Computer Science&apos;</span>, <span class="hljs-string">&apos;(H) Creative Arts and Design&apos;</span>)</span><br><span class="line"><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> subject</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>5). Show the subject and total number of students who A_STRONGLY_AGREE to question 22 for each of the subjects &#x2018;(8) Computer Science&#x2019; and &#x2018;(H) Creative Arts and Design&#x2019;.</p>
<p><em>HINT</em></p>
<p>The A_STRONGLY_AGREE column is a percentage. To work out the total number of students who strongly agree you must multiply this percentage by the number who responded (<strong>response</strong>) and divide by 100 - take the SUM of that.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> subject, <span class="hljs-keyword">sum</span>(response* A_STRONGLY_AGREE/<span class="hljs-number">100</span>)</span><br><span class="line">  <span class="hljs-keyword">FROM</span> nss</span><br><span class="line"> <span class="hljs-keyword">WHERE</span> question=<span class="hljs-string">&apos;Q22&apos;</span></span><br><span class="line">   <span class="hljs-keyword">AND</span> subject <span class="hljs-keyword">in</span> (<span class="hljs-string">&apos;(8) Computer Science&apos;</span>,<span class="hljs-string">&apos;(H) Creative Arts and Design&apos;</span>)</span><br><span class="line"><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> subject</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>6). Show the percentage of students who A_STRONGLY_AGREE to question 22 for the subject &#x2018;(8) Computer Science&#x2019; show the same figure for the subject &#x2018;(H) Creative Arts and Design&#x2019;.</p>
<p>Use the <strong>ROUND</strong> function to show the percentage without decimal places.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> subject, <span class="hljs-keyword">round</span>(<span class="hljs-keyword">sum</span>(response*A_STRONGLY_AGREE)/<span class="hljs-keyword">sum</span>(response))</span><br><span class="line">  <span class="hljs-keyword">FROM</span> nss</span><br><span class="line"> <span class="hljs-keyword">WHERE</span> question=<span class="hljs-string">&apos;Q22&apos;</span></span><br><span class="line">   <span class="hljs-keyword">AND</span> subject <span class="hljs-keyword">in</span> (<span class="hljs-string">&apos;(8) Computer Science&apos;</span>, <span class="hljs-string">&apos;(H) Creative Arts and Design&apos;</span>)</span><br><span class="line"><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> subject</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>7). Show the average scores for question &#x2018;Q22&#x2019; for each institution that include &#x2018;Manchester&#x2019; in the name.</p>
<p>The column <strong>score</strong> is a percentage - you must use the method outlined above to multiply the percentage by the <strong>response</strong> and divide by the total response. Give your answer rounded to the nearest whole number.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> institution, <span class="hljs-keyword">ROUND</span>(<span class="hljs-keyword">SUM</span>(score*response)/<span class="hljs-keyword">SUM</span>(response))</span><br><span class="line">  <span class="hljs-keyword">FROM</span> nss</span><br><span class="line"> <span class="hljs-keyword">WHERE</span> question=<span class="hljs-string">&apos;Q22&apos;</span></span><br><span class="line">   <span class="hljs-keyword">AND</span> (institution <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;%Manchester%&apos;</span>)</span><br><span class="line"><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> institution</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>8). Show the institution, the total sample size and the number of computing students for institutions in Manchester for &#x2018;Q01&#x2019;.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> institution, <span class="hljs-keyword">SUM</span>(<span class="hljs-keyword">sample</span>), <span class="hljs-keyword">SUM</span>(<span class="hljs-keyword">CASE</span> <span class="hljs-keyword">WHEN</span> subject=<span class="hljs-string">&apos;(8) Computer Science&apos;</span> <span class="hljs-keyword">THEN</span> <span class="hljs-keyword">sample</span></span><br><span class="line">                         <span class="hljs-keyword">ELSE</span> <span class="hljs-number">0</span></span><br><span class="line">                         <span class="hljs-keyword">END</span>)</span><br><span class="line"></span><br><span class="line">  <span class="hljs-keyword">FROM</span> nss</span><br><span class="line"> <span class="hljs-keyword">WHERE</span> question=<span class="hljs-string">&apos;Q01&apos;</span></span><br><span class="line">   <span class="hljs-keyword">AND</span> (institution <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;%Manchester%&apos;</span>)</span><br><span class="line"><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> institution</span><br></pre></td></tr></tbody></table></figure><p></p>
</body></html>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2018/08/17/2018-08-18-JOIN/" itemprop="url">JOIN</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2018-08-18T00:00:00.000Z" itemprop="datePublished">8月 17 2018</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/SQL/">SQL</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            6 分钟 读完 (约 947 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h2 id="JOIN"><a href="#JOIN" class="headerlink" title="JOIN"></a>JOIN</h2><h3 id="https-sqlzoo-net-wiki-The-JOIN-operation"><a href="#https-sqlzoo-net-wiki-The-JOIN-operation" class="headerlink" title="https://sqlzoo.net/wiki/The_JOIN_operation"></a><a href="https://sqlzoo.net/wiki/The_JOIN_operation" target="_blank" rel="noopener">https://sqlzoo.net/wiki/The_JOIN_operation</a></h3><h4 id="JOIN-and-UEFA-EURO-2012"><a href="#JOIN-and-UEFA-EURO-2012" class="headerlink" title="JOIN and UEFA EURO 2012"></a>JOIN and UEFA EURO 2012</h4><p>This tutorial introduces <code>JOIN</code> which allows you to use data from two or more tables. The tables contain all matches and goals from UEFA EURO 2012 Football Championship in Poland and Ukraine.</p>
<p>The data is available (mysql format) at <a href="http://sqlzoo.net/euro2012.sql" target="_blank" rel="noopener">http://sqlzoo.net/euro2012.sql</a></p>
<p>Summary</p>
<p><img src="https://sqlzoo.net/w/images/c/ce/FootballERD.png" alt="File:FootballERD.png"> </p>
<table>
<thead>
<tr>
<th>id</th>
<th>mdate</th>
<th>stadium</th>
<th>team1</th>
<th>team2</th>
</tr>
</thead>
<tbody><tr>
<td>1001</td>
<td>8 June 2012</td>
<td>National Stadium, Warsaw</td>
<td>POL</td>
<td>GRE</td>
</tr>
<tr>
<td>1002</td>
<td>8 June 2012</td>
<td>Stadion Miejski (Wroclaw)</td>
<td>RUS</td>
<td>CZE</td>
</tr>
<tr>
<td>1003</td>
<td>12 June 2012</td>
<td>Stadion Miejski (Wroclaw)</td>
<td>GRE</td>
<td>CZE</td>
</tr>
<tr>
<td>1004</td>
<td>12 June 2012</td>
<td>National Stadium, Warsaw</td>
<td>POL</td>
<td>RUS</td>
</tr>
<tr>
<td>&#x2026;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>matchid</th>
<th>teamid</th>
<th>player</th>
<th>gtime</th>
</tr>
</thead>
<tbody><tr>
<td>1001</td>
<td>POL</td>
<td>Robert Lewandowski</td>
<td>17</td>
</tr>
<tr>
<td>1001</td>
<td>GRE</td>
<td>Dimitris Salpingidis</td>
<td>51</td>
</tr>
<tr>
<td>1002</td>
<td>RUS</td>
<td>Alan Dzagoev</td>
<td>15</td>
</tr>
<tr>
<td>1002</td>
<td>RUS</td>
<td>Roman Pavlyuchenko</td>
<td>82</td>
</tr>
<tr>
<td>&#x2026;</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>id</th>
<th>teamname</th>
<th>coach</th>
</tr>
</thead>
<tbody><tr>
<td>POL</td>
<td>Poland</td>
<td>Franciszek Smuda</td>
</tr>
<tr>
<td>RUS</td>
<td>Russia</td>
<td>Dick Advocaat</td>
</tr>
<tr>
<td>CZE</td>
<td>Czech Republic</td>
<td>Michal Bilek</td>
</tr>
<tr>
<td>GRE</td>
<td>Greece</td>
<td>Fernando Santos</td>
</tr>
<tr>
<td>&#x2026;</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>1). The first example shows the goal scored by a player with the last name &#x2018;Bender&#x2019;. The <code>*</code> says to list all the columns in the table - a shorter way of saying <code>matchid, teamid, player, gtime</code></p>
<p>Modify it to show the <em>matchid</em> and <em>player</em> name for all goals scored by Germany. To identify German players, check for: <code>teamid = &apos;GER&apos;</code></p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> matchid, player <span class="hljs-keyword">FROM</span> goal </span><br><span class="line">  <span class="hljs-keyword">WHERE</span> teamid = <span class="hljs-string">&apos;GER&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>2). From the previous query you can see that Lars Bender&#x2019;s scored a goal in game 1012. Now we want to know what teams were playing in that match.</p>
<p>Notice in the that the column <code>matchid</code> in the <code>goal</code> table corresponds to the <code>id</code> column in the <code>game</code> table. We can look up information about game 1012 by finding that row in the <strong>game</strong> table.</p>
<p>Show id, stadium, team1, team2 for just game 1012</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">id</span>, stadium, team1, team2</span><br><span class="line">  <span class="hljs-keyword">FROM</span> game <span class="hljs-keyword">where</span> <span class="hljs-keyword">id</span>=<span class="hljs-number">1012</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>3). You can combine the two steps into a single query with a <code>JOIN</code>.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> *</span><br><span class="line">  <span class="hljs-keyword">FROM</span> game <span class="hljs-keyword">JOIN</span> goal <span class="hljs-keyword">ON</span> (<span class="hljs-keyword">id</span>=matchid)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>The <strong>FROM</strong> clause says to merge data from the goal table with that from the game table. The <strong>ON</strong> says how to figure out which rows in <strong>game</strong> go with which rows in <strong>goal</strong> - the <strong>id</strong> from <strong>goal</strong> must match <strong>matchid</strong> from <strong>game</strong>. (If we wanted to be more clear/specific we could say<br><code>ON (game.id=goal.matchid)</code></p>
<p>The code below shows the player (from the goal) and stadium name (from the game table) for every goal scored.</p>
<p>Modify it to show the player, teamid, stadium and mdate for every German goal.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> player, teamid, stadium, mdate</span><br><span class="line">  <span class="hljs-keyword">FROM</span> game <span class="hljs-keyword">JOIN</span> goal <span class="hljs-keyword">ON</span> (<span class="hljs-keyword">id</span>=matchid) <span class="hljs-keyword">where</span> teamid=<span class="hljs-string">&apos;GER&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>4). Use the same <code>JOIN</code> as in the previous question.</p>
<p>Show the team1, team2 and player for every goal scored by a player called Mario <code>player LIKE &apos;Mario%&apos;</code></p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> team1, team2, player <span class="hljs-keyword">FROM</span> game</span><br><span class="line"><span class="hljs-keyword">JOIN</span> goal <span class="hljs-keyword">ON</span> <span class="hljs-keyword">id</span>=matchid</span><br><span class="line"><span class="hljs-keyword">WHERE</span> player <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;Mario%&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>5). The table <code>eteam</code> gives details of every national team including the coach. You can <code>JOIN</code> <code>goal</code> to <code>eteam</code>using the phrase <code>goal JOIN eteam on teamid=id</code></p>
<p>Show <code>player</code>, <code>teamid</code>, <code>coach</code>, <code>gtime</code> for all goals scored in the first 10 minutes <code>gtime&lt;=10</code></p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> player, teamid, coach, gtime</span><br><span class="line">  <span class="hljs-keyword">FROM</span> goal <span class="hljs-keyword">join</span> eteam <span class="hljs-keyword">on</span> teamid=<span class="hljs-keyword">id</span></span><br><span class="line"> <span class="hljs-keyword">WHERE</span> gtime&lt;=<span class="hljs-number">10</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>6). To <code>JOIN</code> <code>game</code> with <code>eteam</code> you could use either<br><code>game JOIN eteam ON (team1=eteam.id)</code> or <code>game JOIN eteam ON (team2=eteam.id)</code></p>
<p>Notice that because <code>id</code> is a column name in both <code>game</code> and <code>eteam</code> you must specify <code>eteam.id</code> instead of just <code>id</code></p>
<p>List the the dates of the matches and the name of the team in which &#x2018;Fernando Santos&#x2019; was the team1 coach.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> mdate, teamname <span class="hljs-keyword">FROM</span> game</span><br><span class="line"><span class="hljs-keyword">JOIN</span> eteam <span class="hljs-keyword">ON</span> team1 = eteam.id</span><br><span class="line"><span class="hljs-keyword">WHERE</span> coach = <span class="hljs-string">&apos;Fernando Santos&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>7). List the player for every goal scored in a game where the stadium was &#x2018;National Stadium, Warsaw&#x2019; </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> player <span class="hljs-keyword">FROM</span> goal</span><br><span class="line"><span class="hljs-keyword">JOIN</span> game <span class="hljs-keyword">ON</span> matchid = <span class="hljs-keyword">id</span></span><br><span class="line"><span class="hljs-keyword">WHERE</span> stadium = <span class="hljs-string">&apos;National Stadium, Warsaw&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<h3 id="More-difficult-questions"><a href="#More-difficult-questions" class="headerlink" title="More difficult questions"></a>More difficult questions</h3><p>8).  The example query shows all goals scored in the Germany-Greece quarterfinal.</p>
<p>Instead show the <strong>name</strong> of all players who scored a goal against Germany.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> player</span><br><span class="line">  <span class="hljs-keyword">FROM</span> game <span class="hljs-keyword">JOIN</span> goal <span class="hljs-keyword">ON</span> matchid = <span class="hljs-keyword">id</span> </span><br><span class="line">    <span class="hljs-keyword">WHERE</span> (team1=<span class="hljs-string">&apos;GER&apos;</span> <span class="hljs-keyword">or</span> team2=<span class="hljs-string">&apos;GER&apos;</span>) <span class="hljs-keyword">and</span> teamid != <span class="hljs-string">&apos;GER&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>9). Show <strong>teamname</strong> and the total number of goals scored.</p>
<p><u>COUNT and GROUP BY</u></p>
<p>You should COUNT(*) in the SELECT line and GROUP BY teamname</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> teamname, <span class="hljs-keyword">COUNT</span>(teamid)</span><br><span class="line">  <span class="hljs-keyword">FROM</span> eteam <span class="hljs-keyword">JOIN</span> goal <span class="hljs-keyword">ON</span> <span class="hljs-keyword">id</span>=teamid</span><br><span class="line"><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> teamname</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>10). Show the stadium and the number of goals scored in each stadium. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> stadium, <span class="hljs-keyword">COUNT</span>(teamid)</span><br><span class="line">  <span class="hljs-keyword">FROM</span> game <span class="hljs-keyword">JOIN</span> goal <span class="hljs-keyword">ON</span> <span class="hljs-keyword">id</span> = matchid</span><br><span class="line"><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> stadium</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>11). For every match involving &#x2018;POL&#x2019;, show the matchid, date and the number of goals scored. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> matchid, mdate, <span class="hljs-keyword">COUNT</span>(teamid)</span><br><span class="line">  <span class="hljs-keyword">FROM</span> game <span class="hljs-keyword">JOIN</span> goal <span class="hljs-keyword">ON</span> matchid = <span class="hljs-keyword">id</span> </span><br><span class="line"> <span class="hljs-keyword">WHERE</span> (team1 = <span class="hljs-string">&apos;POL&apos;</span> <span class="hljs-keyword">OR</span> team2 = <span class="hljs-string">&apos;POL&apos;</span>)</span><br><span class="line"><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> matchid, mdate</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>12). For every match where &#x2018;GER&#x2019; scored, show matchid, match date and the number of goals scored by &#x2018;GER&#x2019; </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> matchid, mdate, <span class="hljs-keyword">COUNT</span>(teamid) <span class="hljs-keyword">FROM</span> game</span><br><span class="line"><span class="hljs-keyword">JOIN</span> goal <span class="hljs-keyword">ON</span> <span class="hljs-keyword">id</span> = matchid</span><br><span class="line"><span class="hljs-keyword">WHERE</span> teamid = <span class="hljs-string">&apos;GER&apos;</span></span><br><span class="line"><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> matchid, mdate</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>13). List every match with the goals scored by each team as shown. This will use &#x201C;<a href="https://sqlzoo.net/wiki/CASE" target="_blank" rel="noopener">CASE WHEN</a>&#x201C; which has not been explained in any previous exercises.</p>
<table>
<thead>
<tr>
<th>mdate</th>
<th>team1</th>
<th>score1</th>
<th>team2</th>
<th>score2</th>
</tr>
</thead>
<tbody><tr>
<td>1 July 2012</td>
<td>ESP</td>
<td>4</td>
<td>ITA</td>
<td>0</td>
</tr>
<tr>
<td>10 June 2012</td>
<td>ESP</td>
<td>1</td>
<td>ITA</td>
<td>1</td>
</tr>
<tr>
<td>10 June 2012</td>
<td>IRL</td>
<td>1</td>
<td>CRO</td>
<td>3</td>
</tr>
<tr>
<td>&#x2026;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>Notice in the query given every goal is listed. If it was a team1 goal then a 1 appears in score1, otherwise there is a 0. You could SUM this column to get a count of the goals scored by team1. <strong>Sort your result by mdate, matchid, team1 and team2.</strong></p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> mdate, team1,</span><br><span class="line">  <span class="hljs-keyword">SUM</span>(<span class="hljs-keyword">CASE</span> <span class="hljs-keyword">WHEN</span> teamid=team1 <span class="hljs-keyword">THEN</span> <span class="hljs-number">1</span> <span class="hljs-keyword">ELSE</span> <span class="hljs-number">0</span> <span class="hljs-keyword">END</span>) <span class="hljs-keyword">AS</span> score1, </span><br><span class="line">  team2,</span><br><span class="line">  <span class="hljs-keyword">SUM</span>(<span class="hljs-keyword">CASE</span> <span class="hljs-keyword">WHEN</span> teamid=team2 <span class="hljs-keyword">THEN</span> <span class="hljs-number">1</span> <span class="hljs-keyword">ELSE</span> <span class="hljs-number">0</span> <span class="hljs-keyword">END</span>) <span class="hljs-keyword">AS</span> score2</span><br><span class="line">  <span class="hljs-keyword">FROM</span> game <span class="hljs-keyword">left</span> <span class="hljs-keyword">JOIN</span> goal <span class="hljs-keyword">ON</span> matchid = <span class="hljs-keyword">id</span></span><br><span class="line"><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> mdate, team1, team2</span><br><span class="line"><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> mdate, matchid, team1, team2</span><br></pre></td></tr></tbody></table></figure><p></p>
</body></html>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2018/08/17/2018-08-18-SUM-and-COUNT/" itemprop="url">SUM and COUNT</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2018-08-18T00:00:00.000Z" itemprop="datePublished">8月 17 2018</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/SQL/">SQL</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            2 分钟 读完 (约 232 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h2 id="SUM-and-COUNT"><a href="#SUM-and-COUNT" class="headerlink" title="SUM and COUNT"></a>SUM and COUNT</h2><h3 id="https-sqlzoo-net-wiki-SUM-and-COUNT"><a href="#https-sqlzoo-net-wiki-SUM-and-COUNT" class="headerlink" title="https://sqlzoo.net/wiki/SUM_and_COUNT"></a><a href="https://sqlzoo.net/wiki/SUM_and_COUNT" target="_blank" rel="noopener">https://sqlzoo.net/wiki/SUM_and_COUNT</a></h3><h3 id="World-Country-Profile-Aggregate-functions"><a href="#World-Country-Profile-Aggregate-functions" class="headerlink" title="World Country Profile: Aggregate functions"></a>World Country Profile: Aggregate functions</h3><p>This tutorial is about aggregate functions such as COUNT, SUM and AVG. An aggregate function takes many values and delivers just one value. For example the function SUM would aggregate the values 2, 4 and 5 to deliver the single value 11.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>continent</th>
<th>area</th>
<th>population</th>
<th>gdp</th>
</tr>
</thead>
<tbody><tr>
<td>Afghanistan</td>
<td>Asia</td>
<td>652230</td>
<td>25500100</td>
<td>20343000000</td>
</tr>
<tr>
<td>Albania</td>
<td>Europe</td>
<td>28748</td>
<td>2831741</td>
<td>12960000000</td>
</tr>
<tr>
<td>Algeria</td>
<td>Africa</td>
<td>2381741</td>
<td>37100000</td>
<td>188681000000</td>
</tr>
<tr>
<td>Andorra</td>
<td>Europe</td>
<td>468</td>
<td>78115</td>
<td>3712000000</td>
</tr>
<tr>
<td>Angola</td>
<td>Africa</td>
<td>1246700</td>
<td>20609294</td>
<td>100990000000</td>
</tr>
<tr>
<td>&#x2026;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>1). Show the total <strong>population</strong> of the world.</p>
<p></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">world(name, continent, area, population, gdp)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">SUM</span>(population)</span><br><span class="line"><span class="hljs-keyword">FROM</span> world</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>2). List all the continents - just once each. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> continent <span class="hljs-keyword">FROM</span> world</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>3). Give the total GDP of Africa </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">SUM</span>(gdp) <span class="hljs-keyword">FROM</span> world <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> continent</span><br><span class="line"><span class="hljs-keyword">HAVING</span> continent = <span class="hljs-string">&apos;Africa&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>4). How many countries have an <strong>area</strong> of at least 1000000 </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">name</span>) <span class="hljs-keyword">FROM</span> world <span class="hljs-keyword">WHERE</span> area &gt;= <span class="hljs-number">1000000</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>5). What is the total <strong>population</strong> of (&#x2018;Estonia&#x2019;, &#x2018;Latvia&#x2019;, &#x2018;Lithuania&#x2019;) </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">SUM</span>(population) <span class="hljs-keyword">FROM</span> world</span><br><span class="line"><span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">IN</span> (<span class="hljs-string">&apos;Estonia&apos;</span>, <span class="hljs-string">&apos;Latvia&apos;</span>, <span class="hljs-string">&apos;Lithuania&apos;</span>)</span><br></pre></td></tr></tbody></table></figure><p></p>
<h3 id="Using-GROUP-BY-and-HAVING"><a href="#Using-GROUP-BY-and-HAVING" class="headerlink" title="Using GROUP BY and HAVING"></a>Using GROUP BY and HAVING</h3><p>6). For each <strong>continent</strong> show the <strong>continent</strong> and number of countries. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> continent, <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">name</span>) <span class="hljs-keyword">FROM</span> world</span><br><span class="line"><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> continent</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>7). For each <strong>continent</strong> show the <strong>continent</strong> and number of countries with populations of at least 10 million. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> continent, <span class="hljs-keyword">COUNT</span>(<span class="hljs-keyword">name</span>) <span class="hljs-keyword">FROM</span> world</span><br><span class="line"><span class="hljs-keyword">WHERE</span> population &gt;= <span class="hljs-number">10000000</span></span><br><span class="line"><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> continent</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>8). List the continents that <strong>have</strong> a total population of at least 100 million. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> continent <span class="hljs-keyword">FROM</span> world</span><br><span class="line"><span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> continent</span><br><span class="line"><span class="hljs-keyword">HAVING</span> <span class="hljs-keyword">SUM</span>(population) &gt;= <span class="hljs-number">100000000</span></span><br></pre></td></tr></tbody></table></figure><p></p>
</body></html>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2018/08/16/2018-08-17-SELECT-from-Nobel/" itemprop="url">SELECT from Nobel</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2018-08-17T00:00:00.000Z" itemprop="datePublished">8月 16 2018</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/SQL/">SQL</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            3 分钟 读完 (约 460 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h2 id="SELECT-from-Nobel"><a href="#SELECT-from-Nobel" class="headerlink" title="SELECT from Nobel"></a>SELECT from Nobel</h2><h3 id="https-sqlzoo-net-wiki-SELECT-from-Nobel-Tutorial"><a href="#https-sqlzoo-net-wiki-SELECT-from-Nobel-Tutorial" class="headerlink" title="https://sqlzoo.net/wiki/SELECT_from_Nobel_Tutorial"></a><a href="https://sqlzoo.net/wiki/SELECT_from_Nobel_Tutorial" target="_blank" rel="noopener">https://sqlzoo.net/wiki/SELECT_from_Nobel_Tutorial</a></h3><h4 id="nobel-Nobel-Laureates"><a href="#nobel-Nobel-Laureates" class="headerlink" title="nobel Nobel Laureates"></a><code>nobel</code> Nobel Laureates</h4><p>We continue practicing simple SQL queries on a single table.</p>
<p>This tutorial is concerned with a table of Nobel prize winners:</p>
<p></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nobel(yr, subject, winner)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>Using the <code>SELECT</code> statement.</p>
<p>1). Change the query shown so that it displays Nobel prizes for 1950. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> yr, subject, winner</span><br><span class="line">  <span class="hljs-keyword">FROM</span> nobel</span><br><span class="line"> <span class="hljs-keyword">WHERE</span> yr = <span class="hljs-number">1950</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>2). Show who won the 1962 prize for Literature. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> winner</span><br><span class="line">  <span class="hljs-keyword">FROM</span> nobel</span><br><span class="line"> <span class="hljs-keyword">WHERE</span> yr = <span class="hljs-number">1962</span></span><br><span class="line">   <span class="hljs-keyword">AND</span> subject = <span class="hljs-string">&apos;Literature&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>3). Show the year and subject that won &#x2018;Albert Einstein&#x2019; his prize. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> yr, subject <span class="hljs-keyword">FROM</span> nobel</span><br><span class="line"><span class="hljs-keyword">WHERE</span> winner = <span class="hljs-string">&apos;Albert Einstein&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>4). Give the name of the &#x2018;Peace&#x2019; winners since the year 2000, including 2000. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> winner <span class="hljs-keyword">FROM</span> nobel</span><br><span class="line"><span class="hljs-keyword">WHERE</span> subject = <span class="hljs-string">&apos;Peace&apos;</span> <span class="hljs-keyword">AND</span> yr &gt;= <span class="hljs-number">2000</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>5). Show all details (<strong>yr</strong>, <strong>subject</strong>, <strong>winner</strong>) of the Literature prize winners for 1980 to 1989 inclusive. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> nobel</span><br><span class="line"><span class="hljs-keyword">WHERE</span> yr <span class="hljs-keyword">BETWEEN</span> <span class="hljs-number">1980</span> <span class="hljs-keyword">AND</span> <span class="hljs-number">1989</span> </span><br><span class="line"><span class="hljs-keyword">AND</span> subject = <span class="hljs-string">&apos;Literature&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>6). Show all details of the presidential winners:</p>
<ul>
<li><p>Theodore Roosevelt</p>
</li>
<li><p>Woodrow Wilson</p>
</li>
<li><p>Jimmy Carter</p>
</li>
<li><p>Barack Obama</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> nobel</span><br><span class="line"> <span class="hljs-keyword">WHERE</span> winner <span class="hljs-keyword">IN</span> (<span class="hljs-string">&apos;Theodore Roosevelt&apos;</span>,</span><br><span class="line">                  <span class="hljs-string">&apos;Woodrow Wilson&apos;</span>,</span><br><span class="line">                  <span class="hljs-string">&apos;Jimmy Carter&apos;</span>,</span><br><span class="line">                  <span class="hljs-string">&apos;Barack Obama&apos;</span>)</span><br></pre></td></tr></tbody></table></figure><p></p>
</li>
</ul>
<p>7). Show the winners with first name John </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> winner <span class="hljs-keyword">FROM</span> nobel</span><br><span class="line"><span class="hljs-keyword">WHERE</span> winner <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;John%&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>8). Show the year, subject, and name of Physics winners for 1980 together with the Chemistry winners for 1984. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> nobel</span><br><span class="line"><span class="hljs-keyword">WHERE</span> (subject = <span class="hljs-string">&apos;Physics&apos;</span> <span class="hljs-keyword">AND</span> yr = <span class="hljs-number">1980</span>)</span><br><span class="line"><span class="hljs-keyword">or</span></span><br><span class="line">(subject = <span class="hljs-string">&apos;Chemistry&apos;</span> <span class="hljs-keyword">AND</span> yr = <span class="hljs-number">1984</span>)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>9). Show the year, subject, and name of winners for 1980 excluding Chemistry and Medicine </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> nobel</span><br><span class="line"><span class="hljs-keyword">WHERE</span> yr = <span class="hljs-number">1980</span> <span class="hljs-keyword">AND</span> subject <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">IN</span> (<span class="hljs-string">&apos;Chemistry&apos;</span>, <span class="hljs-string">&apos;Medicine&apos;</span>)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>10). Show year, subject, and name of people who won a &#x2018;Medicine&#x2019; prize in an early year (before 1910, not including 1910) together with winners of a &#x2018;Literature&#x2019; prize in a later year (after 2004, including 2004) </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span>  yr, subject, winner <span class="hljs-keyword">FROM</span> nobel</span><br><span class="line"><span class="hljs-keyword">WHERE</span> (subject = <span class="hljs-string">&apos;Medicine&apos;</span> <span class="hljs-keyword">AND</span> yr &lt; <span class="hljs-number">1910</span>) <span class="hljs-keyword">OR</span></span><br><span class="line">      (subject = <span class="hljs-string">&apos;Literature&apos;</span> <span class="hljs-keyword">AND</span> yr &gt;= <span class="hljs-number">2004</span>)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>11). Find all details of the prize won by PETER GR&#xDC;NBERG</p>
<p>Non-ASCII characters</p>
<p>The u in his name has an <strong>umlaut</strong>. You may find this link useful <a href="https://en.wikipedia.org/wiki/%C3%9C#Keyboarding" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/%C3%9C#Keyboarding</a></p>
<p>12).  Find all details of the prize won by EUGENE O&#x2019;NEILL</p>
<p>Escaping single quotes</p>
<p>You can&#x2019;t put a single quote in a quote string directly. You can use two single quotes within a quoted string.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> nobel</span><br><span class="line"><span class="hljs-keyword">WHERE</span> winner = <span class="hljs-string">&apos;EUGENE O&apos;&apos;NEILL&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>13). Knights in order</p>
<p>List the winners, year and subject where the winner starts with <strong>Sir</strong>. Show the the most recent first, then by name order.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> winner, yr, subject <span class="hljs-keyword">FROM</span> nobel</span><br><span class="line"><span class="hljs-keyword">WHERE</span> winner <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;Sir%&apos;</span></span><br><span class="line"><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> yr <span class="hljs-keyword">DESC</span>, winner</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>14). The expression <strong>subject IN (&#x2018;Chemistry&#x2019;,&#x2019;Physics&#x2019;)</strong> can be used as a value - it will be <strong>0</strong> or <strong>1</strong>.</p>
<p>Show the 1984 winners and subject ordered by subject and winner name; but list Chemistry and Physics last.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> winner, subject</span><br><span class="line">  <span class="hljs-keyword">FROM</span> nobel</span><br><span class="line"> <span class="hljs-keyword">WHERE</span> yr=<span class="hljs-number">1984</span></span><br><span class="line"> <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> subject <span class="hljs-keyword">IN</span> (<span class="hljs-string">&apos;Physics&apos;</span>,<span class="hljs-string">&apos;Chemistry&apos;</span>), subject, winner</span><br></pre></td></tr></tbody></table></figure><p></p>
</body></html>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2018/08/16/2018-08-17-SELECT-within-SELECT/" itemprop="url">SELECT within SELECT</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2018-08-17T00:00:00.000Z" itemprop="datePublished">8月 16 2018</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/SQL/">SQL</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            4 分钟 读完 (约 614 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h2 id="SELECT-within-SELECT"><a href="#SELECT-within-SELECT" class="headerlink" title="SELECT within SELECT"></a>SELECT within SELECT</h2><h3 id="https-sqlzoo-net-wiki-SELECT-within-SELECT-Tutorial"><a href="#https-sqlzoo-net-wiki-SELECT-within-SELECT-Tutorial" class="headerlink" title="https://sqlzoo.net/wiki/SELECT_within_SELECT_Tutorial"></a><a href="https://sqlzoo.net/wiki/SELECT_within_SELECT_Tutorial" target="_blank" rel="noopener">https://sqlzoo.net/wiki/SELECT_within_SELECT_Tutorial</a></h3><p>This tutorial looks at how we can use SELECT statements within SELECT statements to perform more complex queries.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>continent</th>
<th>area</th>
<th>population</th>
<th>gdp</th>
</tr>
</thead>
<tbody><tr>
<td>Afghanistan</td>
<td>Asia</td>
<td>652230</td>
<td>25500100</td>
<td>20343000000</td>
</tr>
<tr>
<td>Albania</td>
<td>Europe</td>
<td>28748</td>
<td>2831741</td>
<td>12960000000</td>
</tr>
<tr>
<td>Algeria</td>
<td>Africa</td>
<td>2381741</td>
<td>37100000</td>
<td>188681000000</td>
</tr>
<tr>
<td>Andorra</td>
<td>Europe</td>
<td>468</td>
<td>78115</td>
<td>3712000000</td>
</tr>
<tr>
<td>Angola</td>
<td>Africa</td>
<td>1246700</td>
<td>20609294</td>
<td>100990000000</td>
</tr>
<tr>
<td>&#x2026;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>1). List each country <strong>name</strong> where the <strong>population</strong> is larger than that of &#x2018;Russia&#x2019;.</p>
<p></p><figure class="highlight plain hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">world(name, continent, area, population, gdp)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">FROM</span> world</span><br><span class="line">  <span class="hljs-keyword">WHERE</span> population &gt;</span><br><span class="line">     (<span class="hljs-keyword">SELECT</span> population <span class="hljs-keyword">FROM</span> world</span><br><span class="line">      <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span>=<span class="hljs-string">&apos;Russia&apos;</span>)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>2). Show the countries in Europe with a per capita GDP greater than &#x2018;United Kingdom&#x2019;. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">FROM</span> world</span><br><span class="line"><span class="hljs-keyword">WHERE</span> gdp/population&gt;</span><br><span class="line">(<span class="hljs-keyword">SELECT</span> gdp/population <span class="hljs-keyword">FROM</span> world <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> = <span class="hljs-string">&apos;United Kingdom&apos;</span>) <span class="hljs-keyword">AND</span> continent = <span class="hljs-string">&apos;Europe&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>3). List the <strong>name</strong> and <strong>continent</strong> of countries in the continents containing either <strong>Argentina</strong> or <strong>Australia</strong>. Order by name of the country. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span>, continent <span class="hljs-keyword">FROM</span> world</span><br><span class="line"><span class="hljs-keyword">WHERE</span> continent <span class="hljs-keyword">IN</span> </span><br><span class="line">(<span class="hljs-keyword">SELECT</span> continent <span class="hljs-keyword">FROM</span> world <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">IN</span> (<span class="hljs-string">&apos;Argentina&apos;</span>,<span class="hljs-string">&apos;Australia&apos;</span>))</span><br><span class="line"><span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-keyword">name</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>4). Which country has a population that is more than Canada but less than Poland? Show the name and the population. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span>, population <span class="hljs-keyword">FROM</span> world</span><br><span class="line"><span class="hljs-keyword">WHERE</span> population &gt;</span><br><span class="line">(<span class="hljs-keyword">SELECT</span> population <span class="hljs-keyword">FROM</span> world <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> = <span class="hljs-string">&apos;Canada&apos;</span>)</span><br><span class="line"><span class="hljs-keyword">AND</span> population &lt;</span><br><span class="line">(<span class="hljs-keyword">SELECT</span> population <span class="hljs-keyword">FROM</span> world <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> = <span class="hljs-string">&apos;Poland&apos;</span>)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>5). Germany (population 80 million) has the largest population of the countries in Europe. Austria (population 8.5 million) has 11% of the population of Germany.</p>
<p>Show the name and the population of each country in Europe. Show the population as a percentage of the population of Germany.</p>
<p><u>Decimal places</u></p>
<p>You can use the function <a href="https://sqlzoo.net/wiki/ROUND" target="_blank" rel="noopener">ROUND</a> to remove the decimal places.</p>
<p><u>Percent symbol %</u></p>
<p>You can use the function <a href="https://sqlzoo.net/wiki/CONCAT" target="_blank" rel="noopener">CONCAT</a> to add the percentage symbol.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span>, <span class="hljs-keyword">CONCAT</span>(<span class="hljs-keyword">round</span>(<span class="hljs-number">100</span>*population/</span><br><span class="line">(<span class="hljs-keyword">SELECT</span> population <span class="hljs-keyword">FROM</span> world <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> = <span class="hljs-string">&apos;Germany&apos;</span>)),<span class="hljs-string">&apos;%&apos;</span>)</span><br><span class="line"><span class="hljs-keyword">FROM</span> world</span><br><span class="line"><span class="hljs-keyword">WHERE</span> continent = <span class="hljs-string">&apos;Europe&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>To gain an absurdly detailed view of one insignificant feature of the language, read on.</p>
<p>We can use the word <code>ALL</code> to allow &gt;= or &gt; or &lt; or &lt;=to act over a list. For example, you can find the largest country in the world, by population with this query:</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span></span><br><span class="line">  <span class="hljs-keyword">FROM</span> world</span><br><span class="line"> <span class="hljs-keyword">WHERE</span> population &gt;= <span class="hljs-keyword">ALL</span>(<span class="hljs-keyword">SELECT</span> population</span><br><span class="line">                           <span class="hljs-keyword">FROM</span> world</span><br><span class="line">                          <span class="hljs-keyword">WHERE</span> population&gt;<span class="hljs-number">0</span>)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>You need the condition <strong>population&gt;0</strong> in the sub-query as some countries have <strong>null</strong> for population.</p>
<p>6). Which countries have a GDP greater than every country in Europe? [Give the <strong>name</strong> only.] (Some countries may have NULL gdp values) </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span></span><br><span class="line">  <span class="hljs-keyword">FROM</span> world</span><br><span class="line"> <span class="hljs-keyword">WHERE</span> gdp &gt; <span class="hljs-keyword">ALL</span>(<span class="hljs-keyword">SELECT</span> gdp</span><br><span class="line">                           <span class="hljs-keyword">FROM</span> world</span><br><span class="line">                          <span class="hljs-keyword">WHERE</span> gdp&gt;<span class="hljs-number">0</span> <span class="hljs-keyword">and</span> continent=<span class="hljs-string">&apos;Europe&apos;</span>)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>We can refer to values in the outer SELECT within the inner SELECT. We can name the tables so that we can tell the difference between the inner and outer versions. </p>
<p>7). Find the largest country (by area) in each continent, show the <strong>continent</strong>, the <strong>name</strong> and the <strong>area</strong>: </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> continent, <span class="hljs-keyword">name</span>, area <span class="hljs-keyword">FROM</span> world x</span><br><span class="line">  <span class="hljs-keyword">WHERE</span> area &gt;= <span class="hljs-keyword">ALL</span></span><br><span class="line">    (<span class="hljs-keyword">SELECT</span> area <span class="hljs-keyword">FROM</span> world y</span><br><span class="line">        <span class="hljs-keyword">WHERE</span> y.continent = x.continent</span><br><span class="line">          <span class="hljs-keyword">AND</span> area&gt;<span class="hljs-number">0</span>)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>8). List each continent and the name of the country that comes first alphabetically. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> continent, <span class="hljs-keyword">name</span> <span class="hljs-keyword">FROM</span> world x</span><br><span class="line"><span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> = (</span><br><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">FROM</span> world y </span><br><span class="line"><span class="hljs-keyword">WHERE</span> x.continent = y.continent <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">LIMIT</span> <span class="hljs-number">1</span></span><br><span class="line">)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>9). Find the continents where all countries have a population &lt;= 25000000. Then find the names of the countries associated with these continents. Show <strong>name</strong>, <strong>continent</strong> and <strong>population</strong>. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span>, continent, population <span class="hljs-keyword">FROM</span> world x</span><br><span class="line"><span class="hljs-keyword">WHERE</span> x.continent <span class="hljs-keyword">in</span> (</span><br><span class="line"><span class="hljs-keyword">SELECT</span> continent <span class="hljs-keyword">FROM</span> world y <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> continent</span><br><span class="line"><span class="hljs-keyword">HAVING</span> <span class="hljs-keyword">MAX</span>(y.population) &lt;= <span class="hljs-number">25000000</span></span><br><span class="line">)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>10). Some countries have populations more than three times that of any of their neighbours (in the same continent). Give the countries and continents. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span>, continent <span class="hljs-keyword">FROM</span> world x</span><br><span class="line"><span class="hljs-keyword">WHERE</span> population &gt; <span class="hljs-keyword">ALL</span>(</span><br><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-number">3</span>*population <span class="hljs-keyword">FROM</span> world y</span><br><span class="line"><span class="hljs-keyword">WHERE</span> x.continent = y.continent <span class="hljs-keyword">AND</span> x.name != y.name</span><br><span class="line">)</span><br></pre></td></tr></tbody></table></figure><p></p>
</body></html>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2018/08/16/2018-08-17-SELECT-from-WORLD/" itemprop="url">SELECT from WORLD</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2018-08-17T00:00:00.000Z" itemprop="datePublished">8月 16 2018</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/SQL/">SQL</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            5 分钟 读完 (约 708 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h2 id="SELECT-from-WORLD"><a href="#SELECT-from-WORLD" class="headerlink" title="SELECT from WORLD"></a>SELECT from WORLD</h2><h3 id="https-sqlzoo-net-wiki-SELECT-from-WORLD-Tutorial"><a href="#https-sqlzoo-net-wiki-SELECT-from-WORLD-Tutorial" class="headerlink" title="https://sqlzoo.net/wiki/SELECT_from_WORLD_Tutorial"></a><a href="https://sqlzoo.net/wiki/SELECT_from_WORLD_Tutorial" target="_blank" rel="noopener">https://sqlzoo.net/wiki/SELECT_from_WORLD_Tutorial</a></h3><p>In this tutorial you will use the SELECT command on the table <code>world</code>:</p>
<table>
<thead>
<tr>
<th>name</th>
<th>continent</th>
<th>area</th>
<th>population</th>
<th>gdp</th>
</tr>
</thead>
<tbody><tr>
<td>Afghanistan</td>
<td>Asia</td>
<td>652230</td>
<td>25500100</td>
<td>20343000000</td>
</tr>
<tr>
<td>Albania</td>
<td>Europe</td>
<td>28748</td>
<td>2831741</td>
<td>12960000000</td>
</tr>
<tr>
<td>Algeria</td>
<td>Africa</td>
<td>2381741</td>
<td>37100000</td>
<td>188681000000</td>
</tr>
<tr>
<td>Andorra</td>
<td>Europe</td>
<td>468</td>
<td>78115</td>
<td>3712000000</td>
</tr>
<tr>
<td>Angola</td>
<td>Africa</td>
<td>1246700</td>
<td>20609294</td>
<td>100990000000</td>
</tr>
<tr>
<td>&#x2026;</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>1). Observe the result of running this SQL command to show the name, continent and population of all countries. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span>, continent, population <span class="hljs-keyword">FROM</span> world</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>2). Show the name for the countries that have a population of at least 200 million. 200 million is 200000000, there are eight zeros. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">FROM</span> world</span><br><span class="line"><span class="hljs-keyword">WHERE</span> population &gt;=<span class="hljs-number">200000000</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>3). Give the <code>name</code> and the <strong>per capita GDP</strong> for those countries with a <code>population</code> of at least 200 million. per capita GDP is the GDP divided by the population GDP/population</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span>, gdp/population <span class="hljs-keyword">FROM</span> world</span><br><span class="line"><span class="hljs-keyword">WHERE</span> population  &gt; <span class="hljs-number">200000000</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>4). Show the <code>name</code> and <code>population</code> in millions for the countries of the <code>continent</code> &#x2018;South America&#x2019;. Divide the population by 1000000 to get population in millions.  </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span>, population/<span class="hljs-number">1000000</span> <span class="hljs-keyword">FROM</span> world</span><br><span class="line"><span class="hljs-keyword">WHERE</span> continent = <span class="hljs-string">&apos;South America&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>5). Show the <code>name</code> and <code>population</code> for France, Germany, Italy  </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span>, population <span class="hljs-keyword">FROM</span> world</span><br><span class="line"><span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">IN</span> (<span class="hljs-string">&apos;France&apos;</span>, <span class="hljs-string">&apos;Germany&apos;</span>, <span class="hljs-string">&apos;Italy&apos;</span>)</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>6). Show the countries which have a <code>name</code> that includes the word &#x2018;United&#x2019;</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">FROM</span> world</span><br><span class="line"><span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;%United%&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>7). Two ways to be big: A country is <strong>big</strong> if it has an area of more than 3 million sq km or it has a population of more than 250 million. Show the countries that are big by area or big by population. Show name, population and area.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span>, population, area <span class="hljs-keyword">FROM</span> world</span><br><span class="line"><span class="hljs-keyword">WHERE</span> area &gt; <span class="hljs-number">3000000</span> <span class="hljs-keyword">or</span> population &gt; <span class="hljs-number">250000000</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>8). Exclusive OR (XOR). Show the countries that are big by area or big by population but not both. Show name, population and area.</p>
<ul>
<li><p>Australia has a big area but a small population, it should be <strong>included</strong>.</p>
</li>
<li><p>Indonesia has a big population but a small area, it should be <strong>included</strong>.</p>
</li>
<li><p>China has a big population <strong>and</strong> big area, it should be <strong>excluded</strong>.</p>
</li>
<li><p>United Kingdom has a small population and a small area, it should be <strong>excluded</strong>.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span>, population, area <span class="hljs-keyword">FROM</span> world</span><br><span class="line"><span class="hljs-keyword">WHERE</span> (area &gt; <span class="hljs-number">3000000</span>) <span class="hljs-keyword">XOR</span> (population &gt; <span class="hljs-number">250000000</span>)</span><br></pre></td></tr></tbody></table></figure><p></p>
</li>
</ul>
<p>9). Show the <code>name</code> and <code>population</code> in millions and the GDP in billions for the countries of the <code>continent</code>&#x2018;South America&#x2019;. Use the  <a href="https://sqlzoo.net/wiki/ROUND" target="_blank" rel="noopener">ROUND</a>  function to show the values to two decimal places. For South America show population in millions and GDP in billions both to 2 decimal places.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span>, <span class="hljs-keyword">ROUND</span>(population/<span class="hljs-number">1000000</span>, <span class="hljs-number">2</span>), <span class="hljs-keyword">ROUND</span>(gdp/<span class="hljs-number">1000000000</span>,<span class="hljs-number">2</span>) <span class="hljs-keyword">FROM</span> world</span><br><span class="line"><span class="hljs-keyword">WHERE</span> continent = <span class="hljs-string">&apos;South America&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>10). Show the <code>name</code> and per-capita GDP for those countries with a GDP of at least one trillion (1000000000000; that is 12 zeros). Round this value to the nearest 1000. Show per-capita GDP for the trillion dollar countries to the nearest $1000.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span>, <span class="hljs-keyword">ROUND</span>(gdp/population,<span class="hljs-number">-3</span>) <span class="hljs-keyword">FROM</span> world</span><br><span class="line"><span class="hljs-keyword">WHERE</span> gdp &gt;= <span class="hljs-number">1000000000000</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>11). Greece has capital Athens.</p>
<p>Each of the strings &#x2018;Greece&#x2019;, and &#x2018;Athens&#x2019; has 6 characters.</p>
<p>Show the name and capital where the name and the capital have the same number of characters.</p>
<ul>
<li><p>You can use the <a href="https://sqlzoo.net/wiki/LENGTH" target="_blank" rel="noopener">LENGTH</a> function to find the number of characters in a string</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span>, capital</span><br><span class="line">  <span class="hljs-keyword">FROM</span> world</span><br><span class="line"> <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">LENGTH</span>(<span class="hljs-keyword">name</span>) = <span class="hljs-keyword">LENGTH</span>(capital)</span><br></pre></td></tr></tbody></table></figure><p></p>
</li>
</ul>
<p>12). The capital of Sweden is Stockholm. Both words start with the letter &#x2018;S&#x2019;. Show the name and the capital where the first letters of each match. Don&#x2019;t include countries where the name and the capital are the same word.</p>
<ul>
<li><p>You can use the function <a href="https://sqlzoo.net/wiki/LEFT" target="_blank" rel="noopener">LEFT</a> to isolate the first character.</p>
</li>
<li><p>You can use <code>&lt;&gt;</code> as the <strong>NOT EQUALS</strong> operator.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span>, capital <span class="hljs-keyword">FROM</span> world</span><br><span class="line"><span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">LEFT</span>(<span class="hljs-keyword">name</span>,<span class="hljs-number">1</span>) = <span class="hljs-keyword">LEFT</span>(capital,<span class="hljs-number">1</span>) <span class="hljs-keyword">and</span> <span class="hljs-keyword">name</span> &lt;&gt; capital</span><br></pre></td></tr></tbody></table></figure><p></p>
</li>
</ul>
<p>13). <strong>Equatorial Guinea</strong> and <strong>Dominican Republic</strong> have all of the vowels (a e i o u) in the name. They don&#x2019;t count because they have more than one word in the name. Find the country that has all the vowels and no spaces in its name.</p>
<ul>
<li><p>You can use the phrase <code>name NOT LIKE &apos;%a%&apos;</code> to exclude characters from your results.</p>
</li>
<li><p>The query shown misses countries like Bahamas and Belarus because they contain at least one &#x2018;a&#x2019;</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span></span><br><span class="line">   <span class="hljs-keyword">FROM</span> world</span><br><span class="line"><span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;%a%&apos;</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;%e%&apos;</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;%i%&apos;</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;%o%&apos;</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;%u%&apos;</span></span><br><span class="line">  <span class="hljs-keyword">AND</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&apos;% %&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
</li>
</ul>
</body></html>
    
    </div>
    
    
</article>




    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2018/08/15/2018-08-16-SELECT-basic/" itemprop="url">SELECT basic</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            <time datetime="2018-08-16T00:00:00.000Z" itemprop="datePublished">8月 15 2018</time>
        </span>
        
        <span class="column is-narrow article-category">
            <i class="far fa-folder"></i>
            <a class="article-category-link" href="/categories/SQL/">SQL</a>
        </span>
        
        
        <span class="column is-narrow">
            
            
            1 分钟 读完 (约 178 字)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h2 id="SELECT-basics"><a href="#SELECT-basics" class="headerlink" title="SELECT basics"></a>SELECT basics</h2><h3 id="https-sqlzoo-net-wiki-SELECT-basics"><a href="#https-sqlzoo-net-wiki-SELECT-basics" class="headerlink" title="https://sqlzoo.net/wiki/SELECT_basics"></a><a href="https://sqlzoo.net/wiki/SELECT_basics" target="_blank" rel="noopener">https://sqlzoo.net/wiki/SELECT_basics</a></h3><table>
<thead>
<tr>
<th>name</th>
<th>continent</th>
<th>area</th>
<th>population</th>
<th>gdp</th>
</tr>
</thead>
<tbody><tr>
<td>Afghanistan</td>
<td>Asia</td>
<td>652230</td>
<td>25500100</td>
<td>20343000000</td>
</tr>
<tr>
<td>Albania</td>
<td>Europe</td>
<td>28748</td>
<td>2831741</td>
<td>12960000000</td>
</tr>
<tr>
<td>Algeria</td>
<td>Africa</td>
<td>2381741</td>
<td>37100000</td>
<td>188681000000</td>
</tr>
<tr>
<td>Andorra</td>
<td>Europe</td>
<td>468</td>
<td>78115</td>
<td>3712000000</td>
</tr>
<tr>
<td>Angola</td>
<td>Africa</td>
<td>1246700</td>
<td>20609294</td>
<td>100990000000</td>
</tr>
<tr>
<td>&#x2026;.</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>1). The example uses a WHERE clause to show the population of &#x2018;France&#x2019;. Note that strings (pieces of text that are data) should be in &#x2018;single quotes&#x2019;; Modify it to show the population of Germany</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> population <span class="hljs-keyword">FROM</span> world</span><br><span class="line">  <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> = <span class="hljs-string">&apos;Germany&apos;</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<p>2). Checking a list The word <strong>IN</strong> allows us to check if an item is in a list. The example shows the name and population for the countries &#x2018;Brazil&#x2019;, &#x2018;Russia&#x2019;, &#x2018;India&#x2019; and &#x2018;China&#x2019;. Show the <strong>name</strong> and the <strong>population</strong> for &#x2018;Sweden&#x2019;, &#x2018;Norway&#x2019; and &#x2018;Denmark&#x2019;.</p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span>, population <span class="hljs-keyword">FROM</span> world</span><br><span class="line">  <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">name</span> <span class="hljs-keyword">IN</span> ( <span class="hljs-string">&apos;Sweden&apos;</span>, <span class="hljs-string">&apos;Norway&apos;</span> , <span class="hljs-string">&apos;Denmark&apos;</span>);</span><br></pre></td></tr></tbody></table></figure><p></p>
<p>3). Which countries are not too small and not too big? <code>BETWEEN</code> allows range checking (range specified is inclusive of boundary values). The example below shows countries with an area of 250,000-300,000 sq. km. Modify it to show the country and the area for countries with an area between 200,000 and 250,000. </p>
<p></p><figure class="highlight sql hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">name</span>, area <span class="hljs-keyword">FROM</span> world</span><br><span class="line">  <span class="hljs-keyword">WHERE</span> area <span class="hljs-keyword">BETWEEN</span> <span class="hljs-number">200000</span> <span class="hljs-keyword">AND</span> <span class="hljs-number">250000</span></span><br></pre></td></tr></tbody></table></figure><p></p>
</body></html>
    
    </div>
    
    
</article>




    
    
        
<nav class="pagination is-centered is-rounded" role="navigation" aria-label="pagination">
    <div class="pagination-previous is-invisible is-hidden-mobile">
        <a href="/page/0/">上一页</a>
    </div>
    <div class="pagination-next">
        <a href="/page/2/">下一页</a>
    </div>
    <ul class="pagination-list is-hidden-mobile">
        
        <li><a class="pagination-link is-current" href="/">1</a></li>
        
        <li><a class="pagination-link" href="/page/2/">2</a></li>
        
    </ul>
</nav>
    
    </div>
</section>
    <footer class="footer">
    <div class="container">
        <div class="columns content">
            <div class="column is-narrow has-text-centered">
                &copy; 2020 ahljljj&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a
                        href="http://github.com/ppoffice/hexo-theme-minos">Minos</a>
            </div>
            <div class="column is-hidden-mobile"></div>

            
            <div class="column is-narrow">
                <div class="columns is-mobile is-multiline is-centered">
                
                    
                <a class="column is-narrow has-text-black" title="GitHub" href="https://github.com/ahljljj" target="_blank" rel="noopener">
                    
                    GitHub
                    
                </a>
                
                </div>
            </div>
            
            
        </div>
    </div>
</footer>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/" target="_blank" rel="noopener">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        // plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
    moment.locale("zh-CN");
</script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script>
    MathJax.Hub.Config({
        "HTML-CSS": {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
</script>

    
    
    
    
<script src="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/js/lightgallery-all.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/js/jquery.justifiedGallery.min.js"></script>
<script>
    (function ($) {
        $(document).ready(function () {
            if (typeof($.fn.lightGallery) === 'function') {
                $('.article.gallery').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof($.fn.justifiedGallery) === 'function') {
                $('.justified-gallery').justifiedGallery();
            }
        });
    })(jQuery);
</script>

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <style>
        .hljs {
            position: relative;
        }

        .hljs .clipboard-btn {
            float: right;
            color: #9a9a9a;
            background: none;
            border: none;
            cursor: pointer;
        }

        .hljs .clipboard-btn:hover {
          color: #8a8a8a;
        }

        .hljs > .clipboard-btn {
            display: none;
            position: absolute;
            right: 4px;
            top: 4px;
        }

        .hljs:hover > .clipboard-btn {
            display: inline;
        }

        .hljs > figcaption > .clipboard-btn {
            margin-right: 4px;
        }
    </style>
    <script>
      $(document).ready(function () {
        $('figure.hljs').each(function(i, figure) {
          var codeId = 'code-' + i;
          var code = figure.querySelector('.code');
          var copyButton = $('<button>Copy <i class="far fa-clipboard"></i></button>');
          code.id = codeId;
          copyButton.addClass('clipboard-btn');
          copyButton.attr('data-clipboard-target-id', codeId);

          var figcaption = figure.querySelector('figcaption');

          if (figcaption) {
            figcaption.append(copyButton[0]);
          } else {
            figure.prepend(copyButton[0]);
          }
        })

        var clipboard = new ClipboardJS('.clipboard-btn', {
          target: function(trigger) {
            return document.getElementById(trigger.getAttribute('data-clipboard-target-id'));
          }
        });
        clipboard.on('success', function(e) {
          e.clearSelection();
        })
      })
    </script>

    
    

    



<script src="/js/script.js"></script>


    
    <div class="searchbox ins-search">
    <div class="searchbox-mask"></div>
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="站内搜索" />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                CATEGORIES: '分类',
                TAGS: '标签',
                UNTITLED: '(无标题)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>

<script src="/js/insight.js"></script>

    
</body>
</html>